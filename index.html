<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>记忆代理人 - 装备锻造台</title><link rel="icon" href="favicon.png" type="image/png"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=DotGothic16&family=Press+Start+2P&display=swap" rel="stylesheet"><style>:root{--bg-color:#1a1a1a;--panel-bg:#2b2b2b;--border-color:#555;--accent-color:#a855f7;--gold-color:#fbbf24;--text-color:#e5e5e5;--mc-tooltip-bg:rgba(16, 0, 16, 0.95);--mc-border:#2a002a}*{box-sizing:border-box;margin:0;padding:0}body{font-family:DotGothic16,'Segoe UI','Microsoft YaHei',sans-serif;background-color:var(--bg-color);background-image:url('https://assets.codepen.io/13471/dark-texture.png');color:var(--text-color);display:flex;flex-direction:column;align-items:center;min-height:100vh;padding:20px}h1{font-family:DotGothic16,sans-serif;color:#38bdf8;text-shadow:4px 4px 0 #0f4c75;margin-bottom:10px;text-align:center;line-height:1.5;font-size:3rem;letter-spacing:2px}.subtitle{color:#888;margin-bottom:30px;font-size:.9rem}.container{display:grid;grid-template-columns:1fr 400px;gap:30px;width:100%;max-width:1200px}.config-panel{background:var(--panel-bg);border:2px solid var(--border-color);padding:20px;border-radius:4px;box-shadow:0 10px 30px rgba(0,0,0,.5)}.section-title{font-size:1.2rem;color:var(--gold-color);border-bottom:2px solid var(--border-color);padding-bottom:10px;margin-top:20px;margin-bottom:15px;font-weight:700;font-family:DotGothic16,sans-serif}.section-title:first-child{margin-top:0}.form-group{margin-bottom:15px}.form-row{display:grid;grid-template-columns:1fr 1fr;gap:15px}label{display:block;margin-bottom:5px;font-size:.9rem;color:#ccc;letter-spacing:1px}input,select,textarea{width:100%;background:#111;border:1px solid #444;color:#fff;padding:10px;border-radius:2px;font-family:inherit;letter-spacing:2px}input:focus,select:focus{outline:0;border-color:var(--accent-color)}.field-invalid{border-color:#ef4444!important;box-shadow:0 0 0 2px rgba(239,68,68,.15)}button.action-btn:disabled{opacity:.55;cursor:not-allowed;transform:none;background:#555}.slider-container{display:flex;align-items:center;gap:10px}input[type=range]{flex:1}.attr-input-group{display:grid;grid-template-columns:2fr 1fr 0.8fr;gap:10px;align-items:center;margin-bottom:8px;background:rgba(0,0,0,.2);padding:5px 10px;border-radius:4px}.attr-price{font-size:.85rem;color:var(--gold-color);text-align:right;font-family:'Press Start 2P',cursive}.preview-panel{position:sticky;top:20px}.price-card{background:linear-gradient(135deg,#2c0b38,#1a1a1a);border:2px solid var(--accent-color);padding:20px;text-align:center;margin-bottom:20px;border-radius:8px;box-shadow:0 0 15px rgba(168,85,247,.3)}.price-label{font-size:.9rem;color:#aaa}.price-container{display:flex;justify-content:center;align-items:baseline;gap:10px;margin:15px 0}.total-price{font-size:2.5rem;font-weight:700;color:var(--gold-color);text-shadow:0 2px 4px rgba(0,0,0,.5);font-family:'Press Start 2P',cursive;display:inline-block;white-space:nowrap}.currency{font-size:1.2rem;color:#fff;font-family:'Press Start 2P',cursive}.extra-fee-line{margin-top:-6px;font-size:.8rem;color:#aaa}.mc-tooltip{background-color:var(--mc-tooltip-bg);border:3px solid #2a002a;border-top-color:#2a002a;border-radius:4px;padding:12px;color:#fff;font-family:DotGothic16,sans-serif;line-height:1.5;box-shadow:0 5px 15px rgba(0,0,0,.5);min-height:300px;position:relative;font-size:18px;letter-spacing:1px}.mc-0{color:#000}.mc-1{color:#00a}.mc-2{color:#0a0}.mc-3{color:#0aa}.mc-4{color:#a00}.mc-5{color:#a0a}.mc-6{color:#fa0}.mc-7{color:#aaa}.mc-8{color:#555}.mc-9{color:#55f}.mc-a{color:#5f5}.mc-b{color:#5ff}.mc-c{color:#f55}.mc-d{color:#f5f}.mc-e{color:#ff5}.mc-f{color:#fff}.mc-l{font-weight:700}.mc-m{text-decoration:line-through}.mc-n{text-decoration:underline}.mc-o{font-style:italic}.action-btn{width:100%;padding:15px;margin-top:20px;background:var(--accent-color);color:#fff;border:none;font-weight:700;font-size:1.1rem;cursor:pointer;transition:all .2s;text-transform:uppercase;letter-spacing:1px;clip-path:polygon(5% 0,100% 0,100% 90%,95% 100%,0 100%,0 10%)}.action-btn:hover{background:#9333ea;transform:translateY(-2px)}.action-btn:active{transform:translateY(0)}@media (max-width:768px){.container{grid-template-columns:1fr}}</style></head><body><h1>记忆代理人 x 落花星雨</h1><div class="subtitle">专属武器定制终端 - 打造属于你的传说</div><div class="container"><div class="config-panel"><div style="background:#222;border:1px dashed #555;padding:15px;margin-bottom:20px;border-radius:4px"><div style="display:flex;justify-content:space-between;align-items:center;cursor:pointer" onclick="toggleUpgradePanel()"><span style="color:var(--accent-color);font-weight:700;display:flex;align-items:center"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right:6px"><path d="M23 4v6h-6"></path><path d="M1 20v-6h6"></path><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path></svg> 老客户升级 / 导入配置</span> <span id="upgradeToggleIcon">▼</span></div><div id="upgradeInputPanel" style="display:none;margin-top:10px"><textarea id="upgradeArea" rows="3" placeholder="请在此粘贴您之前的武器配置代码..." style="width:100%;background:#111;color:#aaa;border:1px solid #444;padding:5px;font-size:.8rem"></textarea> <button class="action-btn" style="padding:8px;font-size:.9rem;margin-top:5px" onclick="loadForUpgrade()">加载旧配置并升级</button><div id="upgradeMsg" style="font-size:.8rem;margin-top:5px"></div></div></div><div class="section-title">基础信息</div><div class="form-row"><div class="form-group"><label>玩家 ID</label> <input type="text" id="playerId" placeholder="输入你的游戏ID" oninput="updatePreview()" required></div><div class="form-group"><label>装备类型 (材质ID)</label> <input type="text" id="itemMaterial" list="material_list" placeholder="输入材质英文名 (如 DIAMOND_SWORD)" oninput="syncSlotFromMaterial(); updatePreview()" value="WOODEN_SWORD" required><datalist id="material_list"><option value="WOODEN_SWORD">木剑</option><option value="IRON_SWORD">铁剑</option><option value="DIAMOND_SWORD">钻石剑</option><option value="NETHERITE_SWORD">下界合金剑</option><option value="BOW">弓</option><option value="CROSSBOW">弩</option><option value="TRIDENT">三叉戟</option><option value="SHIELD">盾牌</option><option value="DIAMOND_AXE">钻石斧</option><option value="LEATHER_HELMET">皮革帽子</option><option value="IRON_HELMET">铁头盔</option><option value="DIAMOND_HELMET">钻石头盔</option><option value="NETHERITE_HELMET">下界合金头盔</option><option value="LEATHER_CHESTPLATE">皮革外套</option><option value="IRON_CHESTPLATE">铁胸甲</option><option value="DIAMOND_CHESTPLATE">钻石胸甲</option><option value="NETHERITE_CHESTPLATE">下界合金胸甲</option><option value="LEATHER_LEGGINGS">皮革裤子</option><option value="IRON_LEGGINGS">铁护腿</option><option value="DIAMOND_LEGGINGS">钻石护腿</option><option value="NETHERITE_LEGGINGS">下界合金护腿</option><option value="LEATHER_BOOTS">皮革靴子</option><option value="IRON_BOOTS">铁靴子</option><option value="DIAMOND_BOOTS">钻石靴子</option><option value="NETHERITE_BOOTS">下界合金靴子</option></datalist></div></div><div class="form-row"><div class="form-group"><label>武器名称</label> <input type="text" id="itemName" value="&7 「 &d记忆回响 」" maxlength="16" placeholder="最多10字 (含颜色代码限制16字符)" oninput="updatePreview()" required></div><div class="form-group"><label>装备部位</label> <select id="itemSlot" onchange="updateVisibleAttributes()"><option value="主手">主手</option><option value="副手">副手</option><option value="头盔">头盔</option><option value="衣服">衣服</option><option value="裤子">裤子</option><option value="鞋子">鞋子</option></select></div></div><div class="form-group"><label>背景故事 (最多8行，每行20字)</label> <textarea id="itemLore" rows="5" placeholder="输入背景故事..." oninput="validateLore(this)" required>由记忆碎片凝结。
落花与星雨共鸣。
愿执此刃，守你归途。</textarea></div><div id="attributes-container"></div></div><div class="preview-panel"><div class="price-card"><div class="price-label" id="priceLabel">定制预估价格</div><div class="price-container"><span class="total-price" id="totalPrice">0</span> <span class="currency">RMB</span></div><div class="extra-fee-line" id="extraFeeLine" style="display:none"></div></div><div class="mc-tooltip" id="tooltipPreview"></div><button class="action-btn" id="copyBtn" onclick="copyConfig()">复制配置代码</button><div id="requiredMsg" style="text-align:center;margin-top:8px;font-size:.8rem;color:#ef4444;display:none"></div><div style="text-align:center;margin-top:10px;font-size:.8rem;color:#666">复制后请发送给管理员进行实装</div><div id="adminPanel" style="margin-top:30px;border-top:2px dashed #444;padding-top:20px;display:none"><div class="section-title" style="font-size:1rem">管理员验证台</div><textarea id="importArea" rows="3" placeholder="在此粘贴玩家发来的 YAML 配置代码以验证价格..." style="font-size:.8rem;height:80px"></textarea> <button class="action-btn" style="background:#444;margin-top:10px;font-size:.9rem" onclick="verifyConfig()">验证并导入配置</button><div id="verifyResult" style="margin-top:10px;font-size:.9rem;font-weight:700;text-align:center"></div></div></div></div><script>const a0_0x175af0=a0_0x52c3;(function(_0x3e0f91,_0x102a84){const _0x2a737e=a0_0x52c3,_0x471f91=_0x3e0f91();while(!![]){try{const _0x3610f3=parseInt(_0x2a737e(0x110))/0x1*(parseInt(_0x2a737e(0x1b4))/0x2)+-parseInt(_0x2a737e(0xee))/0x3*(-parseInt(_0x2a737e(0x131))/0x4)+-parseInt(_0x2a737e(0x1a9))/0x5+parseInt(_0x2a737e(0x114))/0x6*(-parseInt(_0x2a737e(0x180))/0x7)+parseInt(_0x2a737e(0xef))/0x8+-parseInt(_0x2a737e(0xc3))/0x9*(-parseInt(_0x2a737e(0x8c))/0xa)+-parseInt(_0x2a737e(0x11d))/0xb;if(_0x3610f3===_0x102a84)break;else _0x471f91['push'](_0x471f91['shift']());}catch(_0xfa64b0){_0x471f91['push'](_0x471f91['shift']());}}}(a0_0x3b54,0xadc97));const SECRET_SALT=a0_0x175af0(0x96);let upgradeMode=![],originalPrice=0x0,upgradeOriginalAttrs=null,upgradeOriginalSlot=null;function extractSignatureBase64(_0x1737ba){const _0x157814=a0_0x175af0;if(!_0x1737ba)return null;const _0x399456=String(_0x1737ba)[_0x157814(0xcb)](/(?:^|\n)\s*#\s*校验签名\s*[:：]\s*([A-Za-z0-9+/=]+)\s*(?:\n|$)/);return _0x399456&&_0x399456[0x1]?_0x399456[0x1]:null;}function a0_0x3b54(){const _0x194c7d=['mta0ndyZmxfTrNPcrq','zMLSBa','u0LhtKfuvvjfx0LovKfmsurFsLnptG','icbeyxrHoIaWcG','566T5PYV56M/6ycp546h','y29SDw1Ur2fW','55sF5zg95OgI5Asn','yxbFChzLx2rLzMvUC2u','5PQ05yE75yEG546h','jMiMBos8PowUSZOMmIzSicS','i2vMndq0na','phnWyw4GC3r5Bgu9j2nVBg9YoIaJzwy0ndq0oYC+5A+85ywL5AsX6lsL77YA6ywn572U6kEJ5P6q5BYc5BI444cc6k+356gU6k6K5l2G57ky6ls055Qe5PIVie15DgHPy01VyNmG54MP5zob6ywn572U77Yi5zcRieXVCMuG5yIx6kgO77Yj77Ym5OIw5PIV5yYf5zcR4OcC5QcH6AQm562+5zcn4OcD55Qe5A6m5Pw06ywn572U44ccpc9ZCgfUpG','ihWG5B2t5yMn6k6H566xoIa','jWOGicaGicaGicaGicaGicaGicaGicaGicaGicaGCgXHy2vOB2XKzxi9iG','C2vHCMnO','5PYQ5zg95zcn5Q2M5zMO','5zg95lIT5yEG546h','y2XPCgjVyxjK','CMfUz2u','5yAW5yA75BY65BQM','su5wquXjrf9tquXu','BwndB2XVCG','5zc46kga5OQ15OQx','AxngAw5PDgu','sLnptIbqyxjZzsbLCNjVCG','ufzq5yEp5lYK','yxr0ywnR','icbjzdOG','phnWyw4GC3r5Bgu9j2nVBg9YoIaJzwy0ndq0oYC+phn2zYb4BwXUCZ0NAhr0CdOVl3D3DY53mY5VCMCVmJaWmc9ZDMCNihDPzhrOpsCXnICGAgvPz2H0psCXnICGDMLLD0jVEd0NmcaWidi0idi0jYbMAwXSpsDUB25LjYbZDhjVA2u9j2n1CNjLBNrdB2XVCICGC3rYB2TLlxDPzhrOpsCZjYbZDhjVA2uTBgLUzwnHCd0NCM91BMqNihn0CM9Rzs1SAw5LAM9PBJ0NCM91BMqNihn0EwXLpsD2zxj0AwnHBc1HBgLNBJOGDgv4Dc1IB3r0B207ig1HCMDPBI1YAwDODdOGnhb4oYC+pgXPBMuGEde9jZe4jYb5mt0NnICGEdi9jZyNihKYpsCXocC+pc9SAw5LpJXSAw5LihGXpsC2jYb5mt0NnICGEdi9jZe4jYb5mJ0NmtGNpJWVBgLUzt48l3n2zZ4G6zsz6k+V77YA562+5zcn6kEJ5P6q5AsX6lsL77Ym6ywn572U5y+V6io95BEY5O2F5z2p77Ybpc9ZCgfUpG','yxzN','yxr0CMLIDxrLCY1JB250ywLUzxi','mc0Xmda','Bg1UB2S','zxH0CMfgzwvmAw5L','Cg93','BNvTyMvY','ywrKrxzLBNrmAxn0zw5LCG','yxbFDMfTCgLYzv9KB2rNzq','yxbFDMfTCgLYzq','Dg90ywXsyxC','A2v5CW','mJqYodm4mgPPBgX5uW','y2XHC3nmAxn0','y29WEuj0BG','Aw1WB3j0qxjLyq','oIyYjMWGkW','DxbNCMfKzuLUChv0ugfUzwW','yxbFywnJDw11Bgf0zv9HzgrPDgLVBG','yxbFBgLNAhrUAw5Nx2rHBwfNzq','pc9SywjLBd4kicaGicaGicaGicaGicaGicaGicaGicaGpgLUChv0ihr5Cgu9iG','5BYt566T5Bce6ycF','ihWG5B2t5yMn5Oc75lU3oIa','mJi1mdmZofLyrhneyW','C29YDa','jJCMBczTls0Tls0Tls0TlszYjJyMBoATPUwzQowXNUAaPYy3jMWMBs0Tls0Tls0Tlq','5PQ05lYK5OQ15OQx','CMvKDwnL','jMxOO4xLPiFNSBVLNOS6ia','su5wquXjrf9quKLdrq','BM93','yxbFyxr0ywnR','AgvHBhrO','6k+35ywi5AgR5yAz5B+f5AgR6Ag577YA','iGOGicaGicaGicaGicaGicaGicaGicaGicaGicaGzgf0ys1SAw1PDd0I','Bwf4','C3rHCNrZv2L0Aa','CxvLCNLtzwXLy3rVCKfSBa','mtu1odGWDMftEhD6','54Ed54oN5yEG546h','pgjYpJXICJ4','6kof5Ash5P2q6lsOicJMNzdOTkHjrcK','CMvTB3zL','pgjYpG','zM9UDfnPEMu','5zc46kga5ycn546h','yxbFAgvHBhrO','yxbFC3vUzgvYx2fYBw9Y','twvTB3j5qwDLBNrFv2vHCg9UxZiWmJy','y29ZDa','C3rYAw5NAwz5','DxbNCMfKzufYzwe','iYdNJQNLRRBLRPRLIlBORQlLJzuGlsdKU7FMOlW6ia','D2vHCg9U','jJCMBczTls0Tls0Tls0TlszYjJyMBoIdJoAzR+AvHEs6IYy3jMWMBs0Tls0Tls0Tlq','B2jQzwn0','qK9pvfm','6zU355s15Ps75yE7','54gR54sW5Ps75yE7','5BEY5Asn5yI25yIW5yMQ6ls05P2/77Yb','WQDJw+wpS+MuRUE7KEwUML0NcG','6lw35Q2L5lU36kgL5BEUicS','DxbNCMfKzu1ZzW','6iom5PMV5Pwf5lQl','pgjYpUwoN+s7TZOG','546P5A62ieLe','yxbFyNjLywTFC2HPzwXK','Dg9VBhrPCfbYzxzPzxC','phnWyw4GC3r5Bgu9j2nVBg9YoIaJzMjIzJi0oYC+phn2zYb4BwXUCZ0IAhr0CdOVl3D3DY53mY5VCMCVmJaWmc9ZDMCIihDPzhrOpsiXnIiGAgvPz2H0psiXnIiGDMLLD0jVEd0ImcaWidi0idi0iIbMAwXSpsjUB25LiIbZDhjVA2u9iMn1CNjLBNrdB2XVCIiGC3rYB2TLlxDPzhrOpsiYiIbZDhjVA2uTBgLUzwnHCd0ICM91BMqIihn0CM9Rzs1SAw5LAM9PBJ0ICM91BMqIihn0EwXLpsj2zxj0AwnHBc1HBgLNBJOGDgv4Dc1IB3r0B207ig1HCMDPBI1YAwDODdOGnhb4oYi+phbHDgGGzd0ItteWlJi5idmUodzmms44mIaXogeYidiGmcaWidaGms43msaZAde2lJK0ytiGmIaWidaGmcaXlJCXltnmmtmUnZeGmY44nMeYidiGmcaWidaTmY40mIaWEIi+pc9WyxrOpJXSAw5LihGXpsiXmIiGEte9iJKIihGYpsiXmIiGEti9iJeZiJ48l2XPBMu+pgXPBMuGEde9iJeYiIb5mt0ImtCIihGYpsiXmI4WmsiGEti9iJe3iJ48l2XPBMu+pc9ZDMC+ioITPUwrIU+8MUs7T+AGVos4JEwmUEMfJE+8GtWVC3bHBJ48yNi+562+5zcn5lU35Qc8oIa','ywrTAw5qyw5LBa','yxbFCMvZDg9Yzq','jMnB5y+Z6zsU57Ur5A6Axq','Dg90ywXqCMLJzq','q0Hfu1rqtefurq','DMfSDwu','su5wquXjrf9bvfrsuW','BwLU','CgfYC2u','AxrLBvnSB3q','ufzf5Ps75yE7','BgvUz3rO','C2XPy2u','jJaU','54M55Q6k5BgE5OcNicJPG6JLIiBPGjRNLkGP','y29ZDhncEuLK','phnWyw4GC3r5Bgu9j2nVBg9YoIaJmJjJntvLoYC+phn2zYb4BwXUCZ0IAhr0CdOVl3D3DY53mY5VCMCVmJaWmc9ZDMCIihDPzhrOpsiXnIiGAgvPz2H0psiXnIiGDMLLD0jVEd0ImcaWidi0idi0iIbMAwXSpsjUB25LiIbZDhjVA2u9iMn1CNjLBNrdB2XVCIiGC3rYB2TLlxDPzhrOpsiZiIbZDhjVA2uTBgLUzwnHCd0ICM91BMqIihn0CM9Rzs1SAw5LAM9PBJ0ICM91BMqIihn0EwXLpsj2zxj0AwnHBc1HBgLNBJOGDgv4Dc1IB3r0B207ig1HCMDPBI1YAwDODdOGnhb4oYi+phbVBhLSAw5LihbVAw50CZ0ImJaGnIa5ide3idqGmtiIpJWVCg9SEwXPBMu+pc9ZDMC+ioMQJoIVGEMaMUI/H++8GsJLJyFNUQFORQlLJzuPpc9ZCgfUpJXICJ7LJP/KU7C6ia','yxbFCMvHBf9HDhrHy2S','5PQ05yE75ycn546h','y29ZDezHy3rVCG','zw50CMLLCW','ChjPy2uT','B3rOzxi','iIbJBgfZCZ0Iyxr0CI1WCMLJzsi+pc9ZCgfUpGOGicaGicaGicaGicaGicaGicaGidWVzgL2pG','mtm1rgjWAfrP','phnWyw4GC3r5Bgu9j2nVBg9YoIaJmJjJntvLoYC+phn2zYb4BwXUCZ0IAhr0CdOVl3D3DY53mY5VCMCVmJaWmc9ZDMCIihDPzhrOpsiXnIiGAgvPz2H0psiXnIiGDMLLD0jVEd0ImcaWidi0idi0iIbMAwXSpsjUB25LiIbZDhjVA2u9iMn1CNjLBNrdB2XVCIiGC3rYB2TLlxDPzhrOpsiZiIbZDhjVA2uTBgLUzwnHCd0ICM91BMqIihn0CM9Rzs1SAw5LAM9PBJ0ICM91BMqIihn0EwXLpsj2zxj0AwnHBc1HBgLNBJOGDgv4Dc1IB3r0B207ig1HCMDPBI1YAwDODdOGnhb4oYi+phbVBhLSAw5LihbVAw50CZ0ImJaGnIa5ide3idqGmtiIpJWVCg9SEwXPBMu+pc9ZDMC+ioMQJoIVGEMaMUI/H++8GtWVC3bHBJ48yNi+562+5zcn5lU35Qc8oIa','jMtLJ6/LJyFNUQC','CMvZAxPL','AxnqzxjJzw50','y2vPBa','C2XVDa','Aw52ywXPza','Bwf0y2G','pc9ZCgfUpG','C2v0','cIaGicaGicaGicaGicaGicaGicaGicaGicaGicbVBMLUChv0psjLBMzVCMnLqxr0CK1HEcH0AgLZktSGDxbKyxrLuhjLDMLLDYGPiGOGicaGicaGicaGicaGicaGicaGicaGicaGicaG','DxbNCMfKzq','y29Kzq','lMf0DhiTAw5WDxqTz3jVDxa','zM9JDxm','lMn1CNjLBMn5','C2nYB2XSv2LKDgG','icbeAxnWBgf5oIaN','5zc46kga6zEQ6yg/','pgjYpUMfJEE9RUw3SUwVVowfPEEvJoMDOU+8JoAcQowpR+s7PEAJGoAFPEwXNUAaP+AyR+wqPUATO+EHRUoaGG','BwmT','tevhr0Lor1m','Dg9tDhjPBMC','Aw5UzxjuzxH0','y2XPzw50v2LKDgG','z2v0qM91BMrPBMDdBgLLBNrszwn0','AgfZ','C3rLCd0I','57Up6AQm5yQG5OIq','yxjTB3i','5OQK55sY5yc8','5OQK55sY56M/6ycp','yxbFDMfTCgLYzv9YyxrL','C2vSzwn0Aw9Uu3rHCNq','zMLSDgvY','Dg9Nz2XL','DMvYAwz5uMvZDwX0','zgf0yxnLDa','jJCMBczTls0Tls0Tls0TlszYjJyMBoATPUwzQoApJ+I/Scy3jMWMBs0Tls0Tls0Tlq','6zEQ6yg/5yEG546h','CMvWBgfJzq','icaGifvUyNjLywTHyMXLoIb0CNvLcG','mJi4mdnTswTwBhG','ode1mdqWofbVC0rjsW','ifjnqIaO5y6F5lU3oIa','ufzq5Ps75yE7','CgXHEwvYswq','BgLTAxq','zxjYB3i','zgLZCgXHEq','y2XVC2vZDa','pGOGicaGicaGicaGicaGicaGicaGicaGica8C3bHBIbPzd0IChjPy2uT','BM9Uzq','y2XLyxi','ChjPy2vmywjLBa','yxbFzMLYzv9Kyw1Hz2u','6zIY5B6H5BgE5OcNicJKU4xPMzdOO4xLPiFMOi8P','su5wquXjrf9nt0rf','C2vSzwn0Aw9Urw5K','Bwf0zxjPywW','yxbFywnJDw11Bgf0zv9KAxn0DxjI','ugXHEwvY','6zU35yE75yEG546h','zgvMzw5Zzq','yMfZzq','Dgv4Da','AM9PBG','B3bHy2L0Eq','mdeYmZq1nJC4owfIy2rLzG','BwLUpsiWiIbTyxG9iG','phnWyw4GC3r5Bgu9j2nVBg9YoIaJmJjJntvLoYC+phn2zYb4BwXUCZ0IAhr0CdOVl3D3DY53mY5VCMCVmJaWmc9ZDMCIihDPzhrOpsiXnIiGAgvPz2H0psiXnIiGDMLLD0jVEd0ImcaWidi0idi0iIbMAwXSpsjUB25LiIbZDhjVA2u9iMn1CNjLBNrdB2XVCIiGC3rYB2TLlxDPzhrOpsiZiIbZDhjVA2uTBgLUzwnHCd0ICM91BMqIihn0CM9Rzs1SAw5LAM9PBJ0ICM91BMqIihn0EwXLpsj2zxj0AwnHBc1HBgLNBJOGDgv4Dc1IB3r0B207ig1HCMDPBI1YAwDODdOGnhb4oYi+phbVBhLSAw5LihbVAw50CZ0ImJaGnIa5ide3idqGmtiIpJWVCg9SEwXPBMu+pc9ZDMC+iowkOoI9VEAiKowkN++8GEwoN+wNI+AaU+s7TZOG','phnWyw4GC3r5Bgu9j2nVBg9YoIaJzwy0ndq0oYC+5A+85ywL5AsX6lsL77YA5PYQ6io95lUo6ywn572U5lIT6k+g5yIR4OcC6kof5Ash57g75z6l4OcD44cc6k+356gU5l+DieXVCMuG5lIT5yYf5zcR57g75lY8igaMzEIJHEwKH+EXU+wEIZOG5lI75OMlycdNMOtKUidOOyZJGii8l3nWyw4+','jJCO5PQc5PEG6zMe5yQG5BgE5OcNkq','ifjnqGO','i2f0DhjPyNv0zxmTy29UDgfPBMvYigLUChv0','Dg9vChbLCKnHC2u','mxryrhz3ra','x0Hfte1fva','A2LUza','yxbFCMvMBgvJDgLVBL9YyxrL','nM9svuXzqW','yxbFBgLNAhrUAw5N','5y+n5BY55yEG546h','cIaGicaGicaGicaGicaGicaGicaGpgrPDIbJBgfZCZ0Iyxr0CI1PBNb1Dc1NCM91Cci+cIaGicaGicaGicaGicaGicaGicaGicaGidXSywjLBd4','5AAcideWmdaTmJaWma','sevmtuvu','Aw5Uzxjive1m','iIakicaGicaGicaGicaGicaGicaGicaGicaGicaGigrHDgeTAxmTCgvYy2vUDd0I','Aw5WDxrTB2rLpsjKzwnPBwfSiG','mJi3otyYntDPDMzsyMW','DxbNCMfKzvrVz2DSzuLJB24','yxbFzMLYzq','zNjVBq','566T5lYK5ywn55AR546h','yxbFy3jPDf9Kyw1Hz2vFCMvZAxn0','D2LKDgG','Bg9YzvrLEhq','iGOGicaGicaGicaGicaGicaGicaGicaGicaGicaGzgf0ys1SywjLBd0I','zMXVB3i','ywXS','zw5KC1DPDgG','yxbFzg9Kz2u','56c055sY5yEG546h','6joe5yQB5BMY5OMW','y29SB3i','DgHLBG','iYdMOkhPQOZNRB7LKi06ia','5zc46kga5yEG546h','su5wquXjrf9tte9u','ntq4t0Pmz1vA','ywrK','su5wquXjrf9puKLhsu5btf9bvfrsuW','yxbFC2vLx3rOCM91z2G','yxbFC2HPzwXKx2jSB2nR','AxrLBu1HDgvYAwfS','ufzf5yEp5lYK','DhjPBq','z2fW','pgrPDIbJBgfZCZ0IC2vJDgLVBI10AxrSzsi+','yxr0CNm','phnWyw4GC3r5Bgu9j2nVBg9YoIaJzwy0ndq0oYC+phn2zYb4BwXUCZ0NAhr0CdOVl3D3DY53mY5VCMCVmJaWmc9ZDMCNihDPzhrOpsCXnICGAgvPz2H0psCXnICGDMLLD0jVEd0NmcaWidi0idi0jYbMAwXSpsDUB25LjYbZDhjVA2u9j2n1CNjLBNrdB2XVCICGC3rYB2TLlxDPzhrOpsCZjYbZDhjVA2uTBgLUzwnHCd0NCM91BMqNihn0CM9Rzs1SAw5LAM9PBJ0NCM91BMqNihn0EwXLpsD2zxj0AwnHBc1HBgLNBJOGDgv4Dc1IB3r0B207ig1HCMDPBI1YAwDODdOGnhb4oYC+pgXPBMuGEde9jZe4jYb5mt0NnICGEdi9jZyNihKYpsCXocC+pc9SAw5LpJXSAw5LihGXpsC2jYb5mt0NnICGEdi9jZe4jYb5mJ0NmtGNpJWVBgLUzt48l3n2zZ4G6zsz6k+V77YA5PYQ5OM+5yIW4OcC5QcH6AQm562+5zcn4OcD44cc6k+357ky6ls05yYf5zcR562+5zcn6kgm55Qe5A6m5Pw06ywn572U77Yi6iUL5lUo5RIY5P+t5zco55Qeie1HCMTKB3DUiowKJEwiTU+8JowpR+IdVEs4OUwKSsaJiowpT++8IEoaGJWVC3bHBJ4','icbpChrPB25ZoGO','u0LhtKfuvvjfx0rfq09erv9gquLmruq','zw1WDhK','z3jPza','55U+54Mm5Qc85OYH546h','z2v0rwXLBwvUDej5swq','5PQ05yE75OQ15OQx','56c055U+5yEG546h','x0nirvnuueXbveu','iIakicaGicaGicaGicaGicaGicaGicaGicaGicaGigLKpsi','yMfJA2DYB3vUza','56E76ycF5yQG5OIq','yxbFzNjVEMvU','C3bSAxq','yxbFy3jPDa','DgvZDa','566H55cg5zgy6AQm6k+b5y+W5BEY5BYa5zcV','5A6A5yI26Ake5lYW5lU35Qc8','y3vZDg9T','D3jPDgvuzxH0','5PQ05yE76zEQ6yg/','Dhj1zq','yMXVy2S','ywXSB3DLza','zMLLBgqTAw52ywXPza','su5wquXjrf9puKLhsu5btf9quKLdrq','BwfW','ChvZAa','u0LhtKfuvvjfx05pvf9gt1vora','BgfIzwW','AxrLBu5HBwu','CxvLCNLtzwXLy3rVCG','jJCMBW','x0jpt1rt','su5wquXjrf9bvfrsx1zbtfvf','6joe5yQB5yQG5OIq','icbmB3jLoGO','5Ps75yE75BgE5OcNicJKU4xPMzdMRABLMAGP','5yAW5yA75yEG546h','5y+n5BY55ycn546h','AxrLBuXVCMu','AxnbCNjHEq','y2XPy2S','yxbFy3jPDf9YyxrL','5Q2M5zMO5zcn56EW','icaGic0GjW','su5wquXjrf9gvuXmx1bssunf','iYdNJQNLRRBLJyFNUQFORQlLJzuGlsdOOAxKU7C6ia','zM9YrwfJAa','yxbFChzLx2f0DgfJAW','zgLZCgXHEu5HBwu','x0n1C3rVBtOk','CMvXDwLYzwrnC2C','DMfSDwvZ','yxbFCMvMBgvJDgLVBG','Aw5JBhvKzxm','55sF5zg95yQB','yxbFy3jPDf9KB2rNzq','566T5PYV57k+5yEg','iGOGicaGicaGicaGicaGicaGicaGicaGicaGicaGzgf0ys1HBgXVD2vKpsC','C3r5Bgu','iZiYyZu1zq','iGOGicaGicaGicaGicaGicaGicaGicaGicaGicaGzgf0ys1JB3n0psi','yxbFBw92Aw5N','yxbFzgvMzw5Zzq','55M+5yIg5Q+u5OgI5Asn','z2v0'];a0_0x3b54=function(){return _0x194c7d;};return a0_0x3b54();}function decodeAndValidateSignData(_0x46cb10){const _0x15eca5=a0_0x175af0,_0x126f0a=extractSignatureBase64(_0x46cb10);if(!_0x126f0a){const _0x3ed70f=new Error(_0x15eca5(0x159));_0x3ed70f['code']=_0x15eca5(0x159);throw _0x3ed70f;}const _0x170c74=_0x126f0a[_0x15eca5(0xec)](/[^A-Za-z0-9+/=]/g,'');let _0x4e4e7b;try{_0x4e4e7b=JSON[_0x15eca5(0xb3)](decodeURIComponent(escape(atob(_0x170c74))));}catch(_0x4b7b97){const _0x16550c=new Error(_0x15eca5(0x13e));_0x16550c[_0x15eca5(0xd0)]='SIGNATURE_DECODE_FAILED';throw _0x16550c;}if(!_0x4e4e7b||typeof _0x4e4e7b!==_0x15eca5(0x9d)){const _0x43db84=new Error(_0x15eca5(0x182));_0x43db84['code']=_0x15eca5(0x182);throw _0x43db84;}if(_0x4e4e7b['salt']!==SECRET_SALT){const _0x11ed6c=new Error('INVALID_SALT');_0x11ed6c[_0x15eca5(0xd0)]=_0x15eca5(0x194);throw _0x11ed6c;}const _0x5dc561=['主手','副手','头盔','衣服','裤子','鞋子'];if(!_0x5dc561['includes'](_0x4e4e7b['s'])){const _0x283c6c=new Error(_0x15eca5(0x130));_0x283c6c[_0x15eca5(0xd0)]=_0x15eca5(0x130);throw _0x283c6c;}const _0x5055f0=Number(_0x4e4e7b['p']);if(!Number[_0x15eca5(0x197)](_0x5055f0)||_0x5055f0<0x0){const _0xc3ad90=new Error('INVALID_PRICE');_0xc3ad90[_0x15eca5(0xd0)]=_0x15eca5(0x1ba);throw _0xc3ad90;}if(_0x4e4e7b['a']!=null&&(typeof _0x4e4e7b['a']!=='object'||Array[_0x15eca5(0x166)](_0x4e4e7b['a']))){const _0x2f3c1f=new Error(_0x15eca5(0xb1));_0x2f3c1f[_0x15eca5(0xd0)]=_0x15eca5(0xb1);throw _0x2f3c1f;}function _0x52388e(_0x28379e){const _0x2d6ea5=_0x15eca5,_0xb437ea={};if(!_0x28379e)return _0xb437ea;for(const [_0x285e63,_0xe977a9]of Object['entries'](_0x28379e)){const _0x227c2c=RANGE_PRICE_ATTR_IDS[_0x2d6ea5(0xde)](_0x285e63);if(_0x227c2c){const _0x4361f2=parseAttrInputValue(_0xe977a9,{'allowRange':!![]});if(!_0x4361f2['ok']){const _0x5ed0de=new Error(_0x2d6ea5(0x15f));_0x5ed0de[_0x2d6ea5(0xd0)]='INVALID_ATTR_VALUE';throw _0x5ed0de;}const _0x37359c=Number(_0x4361f2['min']),_0x3adadf=Number(_0x4361f2[_0x2d6ea5(0x1c0)]);if(!Number['isFinite'](_0x37359c)||!Number['isFinite'](_0x3adadf)||_0x37359c<0x0||_0x3adadf<0x0||_0x37359c>ATTR_INPUT_MAX||_0x3adadf>ATTR_INPUT_MAX){const _0x762a68=new Error(_0x2d6ea5(0x15f));_0x762a68['code']=_0x2d6ea5(0x15f);throw _0x762a68;}_0xb437ea[_0x285e63]=_0x4361f2[_0x2d6ea5(0x112)]===_0x2d6ea5(0x192)?_0x4361f2[_0x2d6ea5(0xf5)]:formatAttrNumber(_0x4361f2['avg']);continue;}const _0x56217b=Number(_0xe977a9);if(!Number[_0x2d6ea5(0x197)](_0x56217b)||_0x56217b<0x0||_0x56217b>ATTR_INPUT_MAX){const _0x44702c=new Error(_0x2d6ea5(0x15f));_0x44702c[_0x2d6ea5(0xd0)]=_0x2d6ea5(0x15f);throw _0x44702c;}_0xb437ea[_0x285e63]=_0x56217b;}return _0xb437ea;}const _0x331ff1=_0x52388e(_0x4e4e7b['a']),_0x329d23=_0x4e4e7b['m'];if(_0x329d23!=='custom'&&_0x329d23!=='upgrade'){const _0xc23e41=new Error(_0x15eca5(0xfd));_0xc23e41['code']=_0x15eca5(0xfd);throw _0xc23e41;}const _0xe6964c=Number(_0x4e4e7b['fp']);if(!Number['isFinite'](_0xe6964c)||_0xe6964c<0x0){const _0x1fc043=new Error(_0x15eca5(0x16b));_0x1fc043[_0x15eca5(0xd0)]=_0x15eca5(0x16b);throw _0x1fc043;}let _0x4765a5=undefined;if(_0x329d23==='upgrade'){_0x4765a5=Number(_0x4e4e7b['op']);if(!Number[_0x15eca5(0x197)](_0x4765a5)||_0x4765a5<0x0){const _0x3b03e2=new Error('INVALID_ORIGINAL_PRICE');_0x3b03e2[_0x15eca5(0xd0)]=_0x15eca5(0x156);throw _0x3b03e2;}}let _0x534127=undefined;if(_0x329d23===_0x15eca5(0xcf)&&_0x4e4e7b['oa']!=null){if(typeof _0x4e4e7b['oa']!==_0x15eca5(0x9d)||Array[_0x15eca5(0x166)](_0x4e4e7b['oa'])){const _0x4641d2=new Error(_0x15eca5(0x133));_0x4641d2['code']='INVALID_ORIGINAL_ATTRS';throw _0x4641d2;}_0x534127=_0x52388e(_0x4e4e7b['oa']);}return{..._0x4e4e7b,'m':_0x329d23,'op':_0x4765a5,'fp':_0xe6964c,'p':_0x5055f0,'a':_0x331ff1,'oa':_0x534127};}function stripMcFormatCodes(_0x52d6a4){const _0x4bbdc4=a0_0x175af0;if(!_0x52d6a4)return'';return String(_0x52d6a4)[_0x4bbdc4(0xec)](/&[0-9a-fk-or]/gi,'')[_0x4bbdc4(0xec)](/§[0-9a-fk-or]/gi,'')['trim']();}function parseLoreLinesFromYaml(_0x397cb3){const _0xe889db=a0_0x175af0,_0xade010=String(_0x397cb3||'')[_0xe889db(0x14a)](/\r?\n/),_0x163220=[];let _0x130f81=![],_0x23a02e=null;for(const _0x167baf of _0xade010){if(!_0x130f81){/^\s*Lore\s*:\s*$/[_0xe889db(0x14c)](_0x167baf)&&(_0x130f81=!![],_0x23a02e=null);continue;}if(/^\s*\S/[_0xe889db(0x14c)](_0x167baf)&&!/^\s*-\s*/[_0xe889db(0x14c)](_0x167baf))break;if(/^\s*Options\s*:\s*$/['test'](_0x167baf))break;const _0x4abc6e=_0x167baf[_0xe889db(0xcb)](/^(\s*)-\s*(.*)\s*$/);if(!_0x4abc6e)continue;if(_0x23a02e==null)_0x23a02e=_0x4abc6e[0x1]['length'];if(_0x4abc6e[0x1][_0xe889db(0xb6)]<_0x23a02e)break;let _0x5a4eb2=_0x4abc6e[0x2]||'';(_0x5a4eb2['startsWith']('\x27')&&_0x5a4eb2[_0xe889db(0x128)]('\x27')||_0x5a4eb2[_0xe889db(0x1c1)]('\x22')&&_0x5a4eb2[_0xe889db(0x128)]('\x22'))&&(_0x5a4eb2=_0x5a4eb2[_0xe889db(0xb7)](0x1,-0x1)),_0x163220[_0xe889db(0x158)](_0x5a4eb2);}return _0x163220;}function buildLabelToAttrIdMap(){const _0x35ebb9=a0_0x175af0,_0x199f2e=new Map();return Object[_0x35ebb9(0x172)](attributesDB)[_0x35ebb9(0x16d)](_0x5d4671=>{const _0x4989f0=_0x35ebb9;_0x5d4671[_0x4989f0(0x16d)](_0x2209fc=>{const _0x525c3f=_0x4989f0;if(_0x2209fc&&_0x2209fc[_0x525c3f(0x15a)])_0x199f2e['set'](String(_0x2209fc[_0x525c3f(0x15a)])['trim'](),_0x2209fc['id']);});}),_0x199f2e[_0x35ebb9(0xcd)]('伤害',_0x35ebb9(0x1bc)),_0x199f2e;}function parseYamlHeader(_0x17385d){const _0x51ce9d=a0_0x175af0,_0x1615cc={'playerId':'','material':'','displayName':''},_0x43bb42=String(_0x17385d||'')[_0x51ce9d(0x14a)](/\r?\n/);for(const _0x2db076 of _0x43bb42){const _0x42986a=_0x2db076['match'](/^\s*([A-Za-z0-9_]+)_Custom\s*:\s*$/);if(_0x42986a){_0x1615cc['playerId']=_0x42986a[0x1][_0x51ce9d(0x138)]();continue;}const _0x4ee7b6=_0x2db076[_0x51ce9d(0xcb)](/^\s*Id\s*:\s*(.+)$/);if(_0x4ee7b6){_0x1615cc[_0x51ce9d(0xff)]=_0x4ee7b6[0x1]['trim']();continue;}const _0x141a65=_0x2db076[_0x51ce9d(0xcb)](/^\s*Display\s*:\s*['"](.+)['"]\s*$/);if(_0x141a65){let _0x568a08=_0x141a65[0x1];_0x568a08=_0x568a08['replace'](/(?:§c|&c)\[右键绑定\]\s*$/i,'')[_0x51ce9d(0x138)](),_0x1615cc[_0x51ce9d(0x16f)]=_0x568a08;}}return _0x1615cc;}function parseUnsignedConfigForUpgrade(_0x4b0f39){const _0x46a54a=a0_0x175af0,_0x3a4d4f=parseYamlHeader(_0x4b0f39),_0x2c4cf2=parseLoreLinesFromYaml(_0x4b0f39),_0x27fdbb=_0x2c4cf2,_0x337e68=_0x2c4cf2[_0x46a54a(0x157)](stripMcFormatCodes)[_0x46a54a(0xe6)](Boolean);let _0x434ce=null;for(const _0x116956 of _0x337e68){const _0x40b9=_0x116956['match'](/装备类型\s*[:：]\s*(.+)\s*$/);if(_0x40b9){_0x434ce=_0x40b9[0x1][_0x46a54a(0x138)]();break;}}const _0x16b2d5=buildLabelToAttrIdMap(),_0x13cb86={};for(const _0x6e5c33 of _0x337e68){const _0x2378a3=_0x6e5c33['match'](/^\s*([^:：]+)\s*[:：]\s*\+?\s*([0-9]+(?:\.[0-9]+)?(?:\s*[-~～—－]\s*[0-9]+(?:\.[0-9]+)?)?)\s*(%)?\s*$/);if(!_0x2378a3)continue;const _0x2e6e0c=_0x2378a3[0x1]['trim'](),_0x1d83a1=(_0x2378a3[0x2]||'')[_0x46a54a(0x138)](),_0x8b1944=_0x16b2d5['get'](_0x2e6e0c);if(!_0x8b1944)continue;const _0x2ed47c=!!_0x2378a3[0x3];if(_0x2ed47c){const _0x246d2f=Number(_0x1d83a1);if(!Number['isFinite'](_0x246d2f))continue;_0x13cb86[_0x8b1944]=Math[_0x46a54a(0x1c0)](0x0,Math['min'](_0x246d2f,ATTR_INPUT_MAX));continue;}const _0x55142a=RANGE_PRICE_ATTR_IDS['has'](_0x8b1944),_0x34f93f=parseAttrInputValue(_0x1d83a1,{'allowRange':_0x55142a});if(!_0x34f93f['ok'])continue;if(_0x55142a){if(_0x34f93f[_0x46a54a(0x112)]===_0x46a54a(0x192)){const _0x5909ce=Math[_0x46a54a(0x1c0)](0x0,Math[_0x46a54a(0xb2)](_0x34f93f[_0x46a54a(0xb2)],ATTR_INPUT_MAX)),_0x253827=Math['max'](0x0,Math[_0x46a54a(0xb2)](_0x34f93f[_0x46a54a(0x1c0)],ATTR_INPUT_MAX));_0x13cb86[_0x8b1944]=formatAttrNumber(_0x5909ce)+'-'+formatAttrNumber(_0x253827);}else{const _0xdac004=Math[_0x46a54a(0x1c0)](0x0,Math[_0x46a54a(0xb2)](_0x34f93f['avg'],ATTR_INPUT_MAX));_0x13cb86[_0x8b1944]=formatAttrNumber(_0xdac004);}}else{const _0x35e606=Math['max'](0x0,Math[_0x46a54a(0xb2)](_0x34f93f[_0x46a54a(0x19d)],ATTR_INPUT_MAX));_0x13cb86[_0x8b1944]=_0x35e606;}}let _0x144b5f='',_0x38980a=![];const _0x3e5304=[];for(const _0x1b9c00 of _0x27fdbb){const _0x8af200=stripMcFormatCodes(_0x1b9c00);if(/背景故事/[_0x46a54a(0x14c)](_0x8af200)){_0x38980a=!![];continue;}if(_0x38980a){if(_0x8af200===''||/^\.+$/[_0x46a54a(0x14c)](_0x8af200))continue;if(/^[-]+/['test'](_0x8af200)||/武器描述|武器属性/[_0x46a54a(0x14c)](_0x8af200))break;_0x3e5304[_0x46a54a(0x158)](_0x8af200);}}return _0x144b5f=_0x3e5304[_0x46a54a(0x106)]('\x0a'),{'slot':_0x434ce,'attrs':_0x13cb86,'playerId':_0x3a4d4f[_0x46a54a(0xf2)],'material':_0x3a4d4f[_0x46a54a(0xff)],'displayName':_0x3a4d4f[_0x46a54a(0x16f)],'loreText':_0x144b5f};}function toggleUpgradePanel(){const _0x296b87=a0_0x175af0,_0x29de72=document[_0x296b87(0x142)](_0x296b87(0x1ae)),_0x42566b=document[_0x296b87(0x142)](_0x296b87(0x11e));_0x29de72['style']['display']===_0x296b87(0xf8)?(_0x29de72[_0x296b87(0x179)][_0x296b87(0xf5)]=_0x296b87(0x153),_0x42566b[_0x296b87(0xdb)]='▲'):(_0x29de72['style'][_0x296b87(0xf5)]=_0x296b87(0xf8),_0x42566b[_0x296b87(0xdb)]='▼');}function loadForUpgrade(){const _0x548f3f=a0_0x175af0,_0x23af6c=document[_0x548f3f(0x142)](_0x548f3f(0x99))[_0x548f3f(0xb0)],_0x415e7e=document['getElementById'](_0x548f3f(0xa4));if(!_0x23af6c){_0x415e7e[_0x548f3f(0x11a)]='<span\x20style=\x27color:\x20#ef4444;\x27>请先粘贴配置代码！</span>';return;}try{const _0x4d31e3=parseUnsignedConfigForUpgrade(_0x23af6c),_0x342e35=_0x4d31e3[_0x548f3f(0xc9)],_0xc19018=_0x4d31e3[_0x548f3f(0x13b)]||{};upgradeOriginalAttrs=JSON[_0x548f3f(0xb3)](JSON['stringify'](_0xc19018||{})),upgradeOriginalSlot=_0x342e35;const _0x194fdd=['主手','副手','头盔','衣服','裤子','鞋子'];if(!_0x342e35||!_0x194fdd['includes'](_0x342e35)){_0x415e7e[_0x548f3f(0x11a)]=_0x548f3f(0x10b);return;}if(_0x4d31e3[_0x548f3f(0xf2)])document['getElementById']('playerId')[_0x548f3f(0xb0)]=_0x4d31e3[_0x548f3f(0xf2)];if(_0x4d31e3['material'])document[_0x548f3f(0x142)](_0x548f3f(0x136))[_0x548f3f(0xb0)]=_0x4d31e3['material'];if(_0x4d31e3['displayName'])document[_0x548f3f(0x142)](_0x548f3f(0x15b))[_0x548f3f(0xb0)]=_0x4d31e3['displayName'];if(_0x4d31e3[_0x548f3f(0x124)]!=null)document[_0x548f3f(0x142)](_0x548f3f(0x165))[_0x548f3f(0xb0)]=_0x4d31e3[_0x548f3f(0x124)];document['getElementById'](_0x548f3f(0xb4))[_0x548f3f(0xb0)]=_0x342e35,updateVisibleAttributes(),document[_0x548f3f(0x1c2)](_0x548f3f(0x10e))[_0x548f3f(0x16d)](_0xdf0314=>_0xdf0314['value']='');if(_0xc19018)for(const [_0x38ddc8,_0x33f849]of Object[_0x548f3f(0xbf)](_0xc19018)){const _0x54d621=document[_0x548f3f(0x142)](_0x38ddc8);if(_0x54d621)_0x54d621[_0x548f3f(0xb0)]=_0x33f849;}const _0x5517c4=upgradeMode,_0x43abd9=originalPrice;upgradeMode=![],originalPrice=0x0;const _0x5b79fb=calculatePrice();upgradeMode=_0x5517c4,originalPrice=_0x43abd9,upgradeMode=!![],originalPrice=_0x5b79fb,_0x415e7e[_0x548f3f(0x11a)]=_0x548f3f(0x10a)+originalPrice+'\x20RMB。请在下方修改属性，系统将自动计算补差价。</span>',updatePreview();}catch(_0x13724a){console[_0x548f3f(0xf4)](_0x13724a),_0x415e7e[_0x548f3f(0x11a)]=_0x548f3f(0x18b);}}const urlParams=new URLSearchParams(window['location'][a0_0x175af0(0x18e)]);urlParams[a0_0x175af0(0x17f)]('admin')===a0_0x175af0(0x152)&&(document['getElementById']('adminPanel')[a0_0x175af0(0x179)][a0_0x175af0(0xf5)]=a0_0x175af0(0x153));let titleClickCount=0x0;document['querySelector']('h1')[a0_0x175af0(0x1a4)](a0_0x175af0(0x167),()=>{const _0x23d433=a0_0x175af0;titleClickCount++;if(titleClickCount>=0x5){const _0x4fa200=document[_0x23d433(0x142)](_0x23d433(0xab));_0x4fa200['style'][_0x23d433(0xf5)]===_0x23d433(0xf8)?(_0x4fa200[_0x23d433(0x179)]['display']=_0x23d433(0x153),alert(_0x23d433(0x14d))):_0x4fa200[_0x23d433(0x179)][_0x23d433(0xf5)]=_0x23d433(0xf8),titleClickCount=0x0;}});function validateLore(_0x1f39b8){const _0x35ba60=a0_0x175af0,_0x4b8645=0x8,_0x27a5fd=0x14;let _0x519557=_0x1f39b8[_0x35ba60(0xb0)][_0x35ba60(0x14a)]('\x0a'),_0x3ec58f=![];_0x519557[_0x35ba60(0xb6)]>_0x4b8645&&(_0x519557=_0x519557['slice'](0x0,_0x4b8645),_0x3ec58f=!![]);for(let _0x147952=0x0;_0x147952<_0x519557['length'];_0x147952++){_0x519557[_0x147952][_0x35ba60(0xb6)]>_0x27a5fd&&(_0x519557[_0x147952]=_0x519557[_0x147952][_0x35ba60(0xb7)](0x0,_0x27a5fd),_0x3ec58f=!![]);}if(_0x3ec58f){const _0x21dc11=_0x1f39b8[_0x35ba60(0xe5)],_0x956c89=_0x1f39b8[_0x35ba60(0xfe)];_0x1f39b8['value']=_0x519557['join']('\x0a');try{_0x1f39b8['setSelectionRange'](_0x21dc11,_0x956c89);}catch(_0x25e816){}}updatePreview();}const REQUIRED_FIELDS=[{'id':a0_0x175af0(0xf2),'label':a0_0x175af0(0xa7)},{'id':a0_0x175af0(0x136),'label':a0_0x175af0(0x8f)},{'id':a0_0x175af0(0x15b),'label':a0_0x175af0(0x169)},{'id':a0_0x175af0(0x165),'label':a0_0x175af0(0xa5)}];function isFieldFilled(_0x1fa6e0){const _0x5d9404=a0_0x175af0;if(!_0x1fa6e0)return![];const _0x206dbb=(_0x1fa6e0['value']??'')[_0x5d9404(0xda)]();return _0x206dbb[_0x5d9404(0x138)]()[_0x5d9404(0xb6)]>0x0;}function validateRequiredFields(_0x493e03=![]){const _0x1a4296=a0_0x175af0,_0x3d590f=[];let _0x1815a2=null;REQUIRED_FIELDS['forEach'](({id:_0x17670b,label:_0x3f3bb3})=>{const _0x356020=a0_0x52c3,_0x522d31=document[_0x356020(0x142)](_0x17670b),_0x1ac1f5=isFieldFilled(_0x522d31);if(!_0x1ac1f5){_0x3d590f[_0x356020(0x158)](_0x3f3bb3);if(!_0x1815a2)_0x1815a2=_0x522d31;}if(_0x522d31)_0x522d31['classList'][_0x356020(0xe7)](_0x356020(0x155),!_0x1ac1f5);});const _0x46b836=document[_0x1a4296(0x142)]('copyBtn');if(_0x46b836)_0x46b836['disabled']=_0x3d590f['length']>0x0;const _0x217d12=document[_0x1a4296(0x142)](_0x1a4296(0x171));_0x217d12&&(_0x493e03&&_0x3d590f[_0x1a4296(0xb6)]>0x0?(_0x217d12[_0x1a4296(0x179)][_0x1a4296(0xf5)]='block',_0x217d12[_0x1a4296(0xdb)]=_0x1a4296(0x1be)+_0x3d590f['join']('、')):(_0x217d12[_0x1a4296(0x179)][_0x1a4296(0xf5)]=_0x1a4296(0xf8),_0x217d12['innerText']=''));if(_0x493e03&&_0x1815a2)try{_0x1815a2[_0x1a4296(0xd2)]();}catch(_0x2f94d7){}return _0x3d590f['length']===0x0;}const attributesDB={'attack':[{'id':a0_0x175af0(0x1bc),'name':'伤害','color':'&b','costFactor':0.03,'isPercent':![],'limit':0x2710,'label':'伤害','allowed':[a0_0x175af0(0x9b)]},{'id':'ap_pvp_attack','name':a0_0x175af0(0xf1),'color':'&b','costFactor':0.02,'isPercent':![],'limit':0x2710,'label':'PVP攻击','allowed':[a0_0x175af0(0x9b)]},{'id':a0_0x175af0(0x16e),'name':a0_0x175af0(0xb5),'color':'&b','costFactor':0.02,'isPercent':![],'limit':0x2710,'label':a0_0x175af0(0xb5),'allowed':[a0_0x175af0(0x9b)]},{'id':'ap_real_attack','name':'真实攻击','color':'&b','costFactor':0.06,'isPercent':![],'limit':0xfa0,'label':'真实攻击','allowed':[a0_0x175af0(0x9b)]},{'id':a0_0x175af0(0x11f),'name':a0_0x175af0(0x8d),'color':'&c','costFactor':1.5,'isPercent':!![],'limit':0x3c,'label':'燃烧几率','allowed':[a0_0x175af0(0x9b)]},{'id':a0_0x175af0(0xfb),'name':a0_0x175af0(0xa0),'color':'&c','costFactor':0.02,'isPercent':![],'limit':0xfa0,'label':a0_0x175af0(0xa0),'allowed':[a0_0x175af0(0x9b)]},{'id':a0_0x175af0(0x14b),'name':a0_0x175af0(0x188),'color':'&c','costFactor':0x3,'isPercent':!![],'limit':0x3c,'label':'暴击几率','allowed':[a0_0x175af0(0x9b)]},{'id':a0_0x175af0(0x168),'name':a0_0x175af0(0xbd),'color':'&c','costFactor':0x2,'isPercent':!![],'limit':0x64,'label':a0_0x175af0(0xbd),'allowed':[a0_0x175af0(0x9b)]},{'id':a0_0x175af0(0x1a6),'name':a0_0x175af0(0x12f),'color':'&c','costFactor':2.5,'isPercent':!![],'limit':0x3c,'label':a0_0x175af0(0x12f),'allowed':[a0_0x175af0(0x9b)]},{'id':a0_0x175af0(0xe4),'name':a0_0x175af0(0x93),'color':'&c','costFactor':0x2,'isPercent':!![],'limit':0x64,'label':a0_0x175af0(0x93),'allowed':[a0_0x175af0(0x9b)]},{'id':'ap_hit','name':a0_0x175af0(0x190),'color':'&6','costFactor':0x1,'isPercent':!![],'limit':0x64,'label':a0_0x175af0(0x190),'allowed':[a0_0x175af0(0x9b)]},{'id':a0_0x175af0(0x149),'name':a0_0x175af0(0x163),'color':'&3','costFactor':0x1,'isPercent':!![],'limit':0x64,'label':a0_0x175af0(0x163),'allowed':[a0_0x175af0(0x9b)]},{'id':'ap_frozen_intensity','name':a0_0x175af0(0x193),'color':'&3','costFactor':0x1,'isPercent':!![],'limit':0x64,'label':a0_0x175af0(0x193),'allowed':[a0_0x175af0(0x9b)]},{'id':a0_0x175af0(0x115),'name':'雷击几率','color':'&f','costFactor':0x1,'isPercent':!![],'limit':0x64,'label':a0_0x175af0(0x102),'allowed':[a0_0x175af0(0x9b)]},{'id':a0_0x175af0(0x1b0),'name':a0_0x175af0(0x9f),'color':'&f','costFactor':0.02,'isPercent':![],'limit':0xfa0,'label':a0_0x175af0(0x9f),'allowed':[a0_0x175af0(0x9b)]},{'id':a0_0x175af0(0x95),'name':a0_0x175af0(0x12a),'color':'&3','costFactor':0x1,'isPercent':!![],'limit':0x3c,'label':a0_0x175af0(0x12a),'allowed':[a0_0x175af0(0x9b)]},{'id':a0_0x175af0(0x134),'name':a0_0x175af0(0xe3),'color':'&6','costFactor':0x1,'isPercent':!![],'limit':0x64,'label':a0_0x175af0(0xe3),'allowed':[a0_0x175af0(0x9b)]},{'id':a0_0x175af0(0xa8),'name':'破盾几率','color':'&3','costFactor':0x1,'isPercent':!![],'limit':0x3c,'label':a0_0x175af0(0x144),'allowed':['weapon']}],'defense':[{'id':'ap_armor','name':a0_0x175af0(0xe2),'color':'&b','costFactor':0x4,'isPercent':!![],'limit':0x3c,'label':a0_0x175af0(0xe2),'allowed':['armor']},{'id':a0_0x175af0(0x17d),'name':'防御','color':'&b','costFactor':0.025,'isPercent':![],'limit':0x2710,'label':'防御','allowed':[a0_0x175af0(0xe1)]},{'id':'ap_pvp_defense','name':a0_0x175af0(0x199),'color':'&b','costFactor':0.02,'isPercent':![],'limit':0x2710,'label':a0_0x175af0(0x199),'allowed':[a0_0x175af0(0xe1)]},{'id':a0_0x175af0(0x187),'name':a0_0x175af0(0x137),'color':'&b','costFactor':0.02,'isPercent':![],'limit':0x2710,'label':'PVE减伤','allowed':[a0_0x175af0(0xe1)]},{'id':a0_0x175af0(0x122),'name':'暴伤抵抗','color':'&c','costFactor':0x1,'isPercent':!![],'limit':0x64,'label':a0_0x175af0(0x1b7),'allowed':[a0_0x175af0(0xe1)]},{'id':'ap_crit_resist','name':a0_0x175af0(0x143),'color':'&c','costFactor':0x1,'isPercent':!![],'limit':0x64,'label':a0_0x175af0(0x143),'allowed':[a0_0x175af0(0xe1)]},{'id':a0_0x175af0(0x176),'name':'暴击闪避','color':'&c','costFactor':0x1,'isPercent':!![],'limit':0x64,'label':a0_0x175af0(0x151),'allowed':['armor']},{'id':a0_0x175af0(0x1a5),'name':a0_0x175af0(0xd6),'color':'&c','costFactor':0x1,'isPercent':!![],'limit':0x64,'label':a0_0x175af0(0xd6),'allowed':[a0_0x175af0(0xe1)]},{'id':'ap_vampire_resist','name':a0_0x175af0(0x196),'color':'&c','costFactor':0x1,'isPercent':!![],'limit':0x64,'label':'吸血抵抗','allowed':[a0_0x175af0(0xe1)]},{'id':a0_0x175af0(0x173),'name':a0_0x175af0(0x116),'color':'&6','costFactor':0x1,'isPercent':!![],'limit':0x3c,'label':a0_0x175af0(0x116),'allowed':['armor']},{'id':a0_0x175af0(0x113),'name':a0_0x175af0(0x164),'color':'&6','costFactor':0x1,'isPercent':!![],'limit':0x64,'label':a0_0x175af0(0x164),'allowed':['armor']},{'id':a0_0x175af0(0x129),'name':'闪避几率','color':'&6','costFactor':0x1,'isPercent':!![],'limit':0x3c,'label':a0_0x175af0(0xeb),'allowed':[a0_0x175af0(0xe1)]},{'id':a0_0x175af0(0x135),'name':a0_0x175af0(0x141),'color':'&6','costFactor':0x1,'isPercent':!![],'limit':0x64,'label':a0_0x175af0(0x141),'allowed':[a0_0x175af0(0xe1)]},{'id':'ap_remote_immune','name':a0_0x175af0(0x121),'color':'&6','costFactor':0x1,'isPercent':!![],'limit':0x64,'label':a0_0x175af0(0x121),'allowed':['armor']}],'other':[{'id':a0_0x175af0(0x94),'name':a0_0x175af0(0x175),'color':'&b','costFactor':0.007,'isPercent':![],'limit':0xc350,'label':'生命力','allowed':['armor']},{'id':a0_0x175af0(0xac),'name':'生命恢复','color':'&d','costFactor':0.018,'isPercent':![],'limit':0x1f40,'label':a0_0x175af0(0x186),'allowed':['armor']},{'id':'ap_restore_ratio','name':a0_0x175af0(0x17e),'color':'&d','costFactor':0x3,'isPercent':!![],'limit':0x3c,'label':a0_0x175af0(0x17e),'allowed':[a0_0x175af0(0xe1)]},{'id':a0_0x175af0(0x1af),'name':a0_0x175af0(0x160),'color':'&6','costFactor':0x1,'isPercent':!![],'limit':0x64,'label':a0_0x175af0(0x160),'allowed':['weapon']},{'id':a0_0x175af0(0x100),'name':a0_0x175af0(0x12b),'color':'&6','costFactor':0x1,'isPercent':!![],'limit':0x64,'label':a0_0x175af0(0x12b),'allowed':['weapon']},{'id':a0_0x175af0(0x17c),'name':a0_0x175af0(0x148),'color':'&6','costFactor':0x1,'isPercent':!![],'limit':0x64,'label':a0_0x175af0(0x148),'allowed':[a0_0x175af0(0x127)]},{'id':'ap_exp_addition','name':a0_0x175af0(0xe0),'color':'&d','costFactor':0x1,'isPercent':!![],'limit':0x258,'label':'经验加成','allowed':['all']},{'id':'ap_shoot_speed','name':a0_0x175af0(0x1b2),'color':'&6','costFactor':0x1,'isPercent':!![],'limit':0x64,'label':'弓箭射速','allowed':['weapon']},{'id':'ap_shoot_spread','name':a0_0x175af0(0x177),'color':'&6','costFactor':0x1,'isPercent':!![],'limit':0x64,'label':a0_0x175af0(0x177),'allowed':['weapon']},{'id':'ap_shoot_through','name':a0_0x175af0(0x184),'color':'&6','costFactor':0x1,'isPercent':!![],'limit':0x64,'label':a0_0x175af0(0x184),'allowed':[a0_0x175af0(0x9b)]}]},ATTR_INPUT_MAX=0x186a0,RANGE_PRICE_ATTR_IDS=new Set([a0_0x175af0(0x1bc),'ap_pve_attack','ap_pvp_attack',a0_0x175af0(0xbc),a0_0x175af0(0xfb),a0_0x175af0(0x1b0),a0_0x175af0(0x17d),'ap_restore']),PROGRESSIVE_PRICE_GAMMA=0x1,DEFAULT_CURVE_REF_FLAT=0x1388,DEFAULT_CURVE_REF_PERCENT=0x32,COMBO_TIER_STEP=0.075,COMBO_MULTIPLIER_CAP=2.5;function allocateRoundedIntCosts(_0x4bb135,_0x393140){const _0x3722d9=a0_0x175af0,_0x3995c6=Array[_0x3722d9(0x166)](_0x4bb135)?_0x4bb135:[],_0x3f9faa=_0x3995c6[_0x3722d9(0xb6)],_0x1a607d=new Array(_0x3f9faa)[_0x3722d9(0x181)](0x0);if(!Number['isFinite'](_0x393140)||_0x393140<=0x0||_0x3f9faa===0x0)return _0x1a607d;const _0x15d1d6=_0x3995c6[_0x3722d9(0x157)](_0x1af2ac=>Number[_0x3722d9(0x197)](_0x1af2ac)&&_0x1af2ac>0x0?Math[_0x3722d9(0x126)](_0x1af2ac):0x0),_0x348927=_0x3995c6['map']((_0x511001,_0xfda205)=>Number[_0x3722d9(0x197)](_0x511001)&&_0x511001>0x0?_0x511001-_0x15d1d6[_0xfda205]:0x0);let _0x33f42c=_0x15d1d6[_0x3722d9(0x1b8)]((_0x5b3afd,_0x3a92a5)=>_0x5b3afd+_0x3a92a5,0x0),_0x978e69=Math['round'](_0x393140-_0x33f42c);for(let _0x5c3cf2=0x0;_0x5c3cf2<_0x3f9faa;_0x5c3cf2++)_0x1a607d[_0x5c3cf2]=_0x15d1d6[_0x5c3cf2];if(_0x978e69===0x0)return _0x1a607d;const _0x34888f=[...Array(_0x3f9faa)[_0x3722d9(0x1a8)]()]['sort']((_0x129b71,_0x4b42e0)=>_0x348927[_0x4b42e0]-_0x348927[_0x129b71]);if(_0x978e69>0x0){for(let _0x2f7a0e=0x0;_0x2f7a0e<_0x3f9faa&&_0x978e69>0x0;_0x2f7a0e++,_0x978e69--){_0x1a607d[_0x34888f[_0x2f7a0e]]+=0x1;}return _0x1a607d;}const _0x58d2be=[...Array(_0x3f9faa)[_0x3722d9(0x1a8)]()][_0x3722d9(0x1b5)]((_0x42a2c5,_0x32ec29)=>_0x348927[_0x42a2c5]-_0x348927[_0x32ec29]);for(let _0x437549=0x0;_0x437549<_0x3f9faa&&_0x978e69<0x0;_0x437549++,_0x978e69++){const _0xf4bfe9=_0x58d2be[_0x437549];if(_0x1a607d[_0xf4bfe9]>0x0)_0x1a607d[_0xf4bfe9]-=0x1;}return _0x1a607d;}function progressiveAttrCost(_0x472055,_0x30badc,_0x503486,_0x138519=PROGRESSIVE_PRICE_GAMMA){const _0x1f1965=a0_0x175af0,_0x6be8a8=Number(_0x472055),_0x1d87f8=Number(_0x30badc),_0xd1e2ab=Number(_0x503486),_0x18a0e4=Number(_0x138519);if(!(Number[_0x1f1965(0x197)](_0x6be8a8)&&_0x6be8a8>0x0))return 0x0;if(!(Number[_0x1f1965(0x197)](_0x1d87f8)&&_0x1d87f8>0x0))return 0x0;const _0x209246=Number['isFinite'](_0xd1e2ab)&&_0xd1e2ab>0x0?_0xd1e2ab:DEFAULT_CURVE_REF_FLAT,_0x2e172=Number[_0x1f1965(0x197)](_0x18a0e4)&&_0x18a0e4>0x0?_0x18a0e4:0x1,_0x4b67bb=_0x6be8a8/_0x209246;return _0x6be8a8*_0x1d87f8*(0x1+Math[_0x1f1965(0x1a2)](_0x4b67bb,_0x2e172));}function progressiveAttrExpectedCostUniform(_0xa102aa,_0xe0b46f,_0x2eefae,_0x346a37,_0x2c0175=PROGRESSIVE_PRICE_GAMMA){const _0x2ad269=a0_0x175af0,_0x3422b1=Number(_0xa102aa),_0x47c298=Number(_0xe0b46f),_0x1fe4b4=Number(_0x2eefae),_0x1f310c=Number(_0x346a37),_0x31702c=Number(_0x2c0175);if(!(Number['isFinite'](_0x3422b1)&&Number['isFinite'](_0x47c298)&&_0x3422b1>=0x0&&_0x47c298>=_0x3422b1))return 0x0;if(!(Number['isFinite'](_0x1fe4b4)&&_0x1fe4b4>0x0))return 0x0;const _0x1f5a58=Number[_0x2ad269(0x197)](_0x1f310c)&&_0x1f310c>0x0?_0x1f310c:DEFAULT_CURVE_REF_FLAT,_0x348888=Number[_0x2ad269(0x197)](_0x31702c)&&_0x31702c>0x0?_0x31702c:0x1;if(_0x3422b1===_0x47c298)return progressiveAttrCost(_0x3422b1,_0x1fe4b4,_0x1f5a58,_0x348888);const _0x3ef00f=(_0x3422b1+_0x47c298)/0x2,_0xe83b6c=_0x348888+0x1,_0x5bc8c2=(_0xe83b6c+0x1)*(_0x47c298-_0x3422b1);if(!(Number[_0x2ad269(0x197)](_0x5bc8c2)&&_0x5bc8c2>0x0))return progressiveAttrCost(_0x3ef00f,_0x1fe4b4,_0x1f5a58,_0x348888);const _0x4369ca=(Math[_0x2ad269(0x1a2)](_0x47c298,_0xe83b6c+0x1)-Math[_0x2ad269(0x1a2)](_0x3422b1,_0xe83b6c+0x1))/_0x5bc8c2;return _0x1fe4b4*(_0x3ef00f+_0x4369ca/Math['pow'](_0x1f5a58,_0x348888));}function normalizedAttrIntensity(_0x5a4ed8,_0x4078e2){const _0xcaf501=a0_0x175af0,_0x17e603=Number(_0x5a4ed8),_0x1909f7=Number(_0x4078e2);if(!(Number[_0xcaf501(0x197)](_0x17e603)&&_0x17e603>0x0))return 0x0;const _0x470b5e=Number['isFinite'](_0x1909f7)&&_0x1909f7>0x0?_0x1909f7:DEFAULT_CURVE_REF_FLAT,_0x13a5e3=_0x17e603/_0x470b5e;return Math[_0xcaf501(0x1c0)](0x0,Math[_0xcaf501(0xb2)](_0x13a5e3,COMBO_INTENSITY_CAP_PER_ATTR));}function formatAttrNumber(_0x52def9){const _0x1838a0=a0_0x175af0;if(!Number['isFinite'](_0x52def9))return'';return String(_0x52def9)[_0x1838a0(0xec)](/\.0+$/,'')['replace'](/(\.\d*?)0+$/,'$1');}function a0_0x52c3(_0x98abe9,_0x1864e2){_0x98abe9=_0x98abe9-0x8c;const _0x3b5431=a0_0x3b54();let _0x52c33a=_0x3b5431[_0x98abe9];if(a0_0x52c3['FsQZaX']===undefined){var _0x2ec16a=function(_0x3cd2fc){const _0x39fd9a='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x1737ba='',_0x399456='';for(let _0x46cb10=0x0,_0x126f0a,_0x170c74,_0x4e4e7b=0x0;_0x170c74=_0x3cd2fc['charAt'](_0x4e4e7b++);~_0x170c74&&(_0x126f0a=_0x46cb10%0x4?_0x126f0a*0x40+_0x170c74:_0x170c74,_0x46cb10++%0x4)?_0x1737ba+=String['fromCharCode'](0xff&_0x126f0a>>(-0x2*_0x46cb10&0x6)):0x0){_0x170c74=_0x39fd9a['indexOf'](_0x170c74);}for(let _0x5dc561=0x0,_0x5055f0=_0x1737ba['length'];_0x5dc561<_0x5055f0;_0x5dc561++){_0x399456+='%'+('00'+_0x1737ba['charCodeAt'](_0x5dc561)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x399456);};a0_0x52c3['iJRYGf']=_0x2ec16a,a0_0x52c3['crOMST']={},a0_0x52c3['FsQZaX']=!![];}const _0x3437d8=_0x3b5431[0x0],_0x20eabf=_0x98abe9+_0x3437d8,_0x174e13=a0_0x52c3['crOMST'][_0x20eabf];return!_0x174e13?(_0x52c33a=a0_0x52c3['iJRYGf'](_0x52c33a),a0_0x52c3['crOMST'][_0x20eabf]=_0x52c33a):_0x52c33a=_0x174e13,_0x52c33a;}function parseAttrInputValue(_0x4a1f52,{allowRange:allowRange=![]}={}){const _0xe5cc81=a0_0x175af0,_0x528da5=(_0x4a1f52??'')[_0xe5cc81(0xda)]()['trim']();if(_0x528da5==='')return{'ok':!![],'kind':_0xe5cc81(0x13f),'avg':0x0,'min':null,'max':null,'display':''};const _0x386006=_0x528da5[_0xe5cc81(0xec)](/^\+/,'')[_0xe5cc81(0x138)](),_0x233d08=Number(_0x386006);if(Number[_0xe5cc81(0x197)](_0x233d08))return{'ok':!![],'kind':_0xe5cc81(0x1a3),'avg':_0x233d08,'min':_0x233d08,'max':_0x233d08,'display':formatAttrNumber(_0x233d08)};if(!allowRange)return{'ok':![],'kind':'invalid','avg':0x0,'min':null,'max':null,'display':_0x528da5};const _0x398b40=_0x386006['match'](/^(\d+(?:\.\d+)?)\s*[-~～—－]\s*(\d+(?:\.\d+)?)$/);if(!_0x398b40)return{'ok':![],'kind':_0xe5cc81(0xca),'avg':0x0,'min':null,'max':null,'display':_0x528da5};const _0x4591ac=Number(_0x398b40[0x1]),_0x221df4=Number(_0x398b40[0x2]);if(!Number['isFinite'](_0x4591ac)||!Number[_0xe5cc81(0x197)](_0x221df4))return{'ok':![],'kind':_0xe5cc81(0xca),'avg':0x0,'min':null,'max':null,'display':_0x528da5};if(_0x4591ac>_0x221df4)return{'ok':![],'kind':_0xe5cc81(0xca),'avg':0x0,'min':null,'max':null,'display':_0x528da5};const _0xecc05b=Math['min'](_0x4591ac,_0x221df4),_0x310018=Math[_0xe5cc81(0x1c0)](_0x4591ac,_0x221df4),_0x48f9a2=(_0xecc05b+_0x310018)/0x2;return{'ok':!![],'kind':_0xe5cc81(0x192),'avg':_0x48f9a2,'a':_0x4591ac,'b':_0x221df4,'min':_0xecc05b,'max':_0x310018,'display':formatAttrNumber(_0x4591ac)+'-'+formatAttrNumber(_0x221df4),'canonicalDisplay':formatAttrNumber(_0xecc05b)+'-'+formatAttrNumber(_0x310018)};}function enforceAttrMax(_0x40d20f){const _0x11a6b5=a0_0x175af0;if(!_0x40d20f)return;const _0x23533e=_0x40d20f[_0x11a6b5(0xb0)],_0x1058fa=RANGE_PRICE_ATTR_IDS['has'](_0x40d20f['id']);if(_0x23533e===''){_0x40d20f[_0x11a6b5(0x1aa)][_0x11a6b5(0x90)]('field-invalid');return;}const _0x139b21=parseAttrInputValue(_0x23533e,{'allowRange':_0x1058fa});if(!_0x139b21['ok']){if(_0x1058fa){_0x40d20f[_0x11a6b5(0x1aa)][_0x11a6b5(0x132)](_0x11a6b5(0x155));return;}_0x40d20f[_0x11a6b5(0xb0)]='',_0x40d20f[_0x11a6b5(0x1aa)]['remove'](_0x11a6b5(0x155));return;}_0x40d20f[_0x11a6b5(0x1aa)][_0x11a6b5(0x90)](_0x11a6b5(0x155));if(_0x139b21[_0x11a6b5(0x112)]===_0x11a6b5(0x1a3)){let _0x1122fd=_0x139b21[_0x11a6b5(0x19d)];if(!Number[_0x11a6b5(0x197)](_0x1122fd))return;if(_0x1122fd>ATTR_INPUT_MAX)_0x1122fd=ATTR_INPUT_MAX;if(_0x1122fd<0x0)_0x1122fd=0x0;_0x40d20f[_0x11a6b5(0xb0)]=formatAttrNumber(_0x1122fd);return;}if(_0x139b21['kind']===_0x11a6b5(0x192)){let _0x38f3b5=_0x139b21['a'],_0x43e608=_0x139b21['b'];if(!Number[_0x11a6b5(0x197)](_0x38f3b5)||!Number[_0x11a6b5(0x197)](_0x43e608))return;_0x38f3b5=Math['max'](0x0,Math[_0x11a6b5(0xb2)](_0x38f3b5,ATTR_INPUT_MAX)),_0x43e608=Math['max'](0x0,Math[_0x11a6b5(0xb2)](_0x43e608,ATTR_INPUT_MAX)),_0x40d20f[_0x11a6b5(0xb0)]=formatAttrNumber(_0x38f3b5)+'-'+formatAttrNumber(_0x43e608);return;}}function enforceAllAttrMax(){const _0x5bb455=a0_0x175af0;document['querySelectorAll'](_0x5bb455(0x10e))['forEach'](enforceAttrMax);}let TOTAL_PRICE_BASE_FONT_PX=null;function adjustTotalPriceFontSize(){const _0x73cc7c=a0_0x175af0,_0x100106=document[_0x73cc7c(0x142)]('totalPrice');if(!_0x100106)return;const _0x417773=_0x100106[_0x73cc7c(0xf6)]('.price-container');if(!_0x417773)return;const _0x5b7c46=_0x417773[_0x73cc7c(0x15c)](_0x73cc7c(0xd3));if(!_0x5b7c46)return;if(TOTAL_PRICE_BASE_FONT_PX==null){const _0x460e7a=parseFloat(getComputedStyle(_0x100106)[_0x73cc7c(0x92)]);TOTAL_PRICE_BASE_FONT_PX=Number[_0x73cc7c(0x197)](_0x460e7a)&&_0x460e7a>0x0?_0x460e7a:0x28;}_0x100106[_0x73cc7c(0x179)][_0x73cc7c(0x92)]=TOTAL_PRICE_BASE_FONT_PX+'px';const _0x57b3c8=_0x417773[_0x73cc7c(0xdc)],_0x37c74c=_0x5b7c46[_0x73cc7c(0xdd)]()[_0x73cc7c(0x123)],_0xd574bc=getComputedStyle(_0x417773)[_0x73cc7c(0x185)]||getComputedStyle(_0x417773)[_0x73cc7c(0x139)]||'0',_0x136a2c=parseFloat(_0xd574bc)||0x0,_0xf6ce01=_0x57b3c8-_0x37c74c-_0x136a2c-0x2;if(!(_0xf6ce01>0x0))return;const _0x6f7bf8=_0x100106[_0x73cc7c(0xd4)];if(_0x6f7bf8<=_0xf6ce01)return;const _0x6c37f0=_0xf6ce01/_0x6f7bf8,_0x426d2e=Math[_0x73cc7c(0x1c0)](0.2,Math[_0x73cc7c(0xb2)](0x1,_0x6c37f0));_0x100106[_0x73cc7c(0x179)][_0x73cc7c(0x92)]=TOTAL_PRICE_BASE_FONT_PX*_0x426d2e+'px';}window['addEventListener'](a0_0x175af0(0xc6),()=>requestAnimationFrame(adjustTotalPriceFontSize));function init(){const _0x4c4b01=a0_0x175af0,_0x5241cf=document[_0x4c4b01(0x142)](_0x4c4b01(0x19e)),_0x44f128=(_0x2c2afd,_0x1d3682)=>{const _0x394f71=_0x4c4b01;let _0xa3b3e=_0x394f71(0x13a)+_0x2c2afd+'</div>';return _0x1d3682[_0x394f71(0x16d)](_0x564228=>{const _0x1108bd=_0x394f71,_0x301927=_0x564228[_0x1108bd(0xc7)]?0x1:_0x564228['id']['includes']('attack')||_0x564228['id'][_0x1108bd(0x174)](_0x1108bd(0x1bd))?0xa:0x1,_0x37aea3=_0x564228[_0x1108bd(0xc7)]?'%':'',_0x195963=RANGE_PRICE_ATTR_IDS[_0x1108bd(0xde)](_0x564228['id']),_0x39a0e5=_0x195963?_0x1108bd(0x105):_0x1108bd(0x1a3),_0x46c60b=_0x195963?_0x1108bd(0x118):_0x564228[_0x1108bd(0xc7)]?_0x1108bd(0x19f):'0';_0xa3b3e+=_0x1108bd(0x117)+parseMcColor(_0x564228[_0x1108bd(0x12c)]+_0x564228['name'])+_0x1108bd(0x1b1)+_0x39a0e5+_0x1108bd(0x146)+_0x564228['id']+_0x1108bd(0x11b)+_0x564228[_0x1108bd(0xc7)]+_0x1108bd(0x17b)+_0x564228[_0x1108bd(0xbe)]+_0x1108bd(0x1bf)+_0x564228[_0x1108bd(0xf3)]+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-mc-color=\x22'+_0x564228[_0x1108bd(0x12c)]+_0x1108bd(0x125)+_0x564228[_0x1108bd(0x15a)]+_0x1108bd(0x178)+JSON['stringify'](_0x564228[_0x1108bd(0x154)])+_0x1108bd(0x18d)+_0x46c60b+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x195963?_0x1108bd(0x11c):_0x1108bd(0xdf)+_0x301927+'\x22')+_0x1108bd(0xce)+(_0x195963?'':_0x1108bd(0x109)+ATTR_INPUT_MAX+'\x22')+_0x1108bd(0xf7)+_0x564228['id']+_0x1108bd(0xc2);}),_0xa3b3e;};_0x5241cf[_0x4c4b01(0x11a)]+=_0x44f128(_0x4c4b01(0x162),attributesDB[_0x4c4b01(0x19a)]),_0x5241cf[_0x4c4b01(0x11a)]+=_0x44f128(_0x4c4b01(0xfc),attributesDB[_0x4c4b01(0x103)]),_0x5241cf['innerHTML']+=_0x44f128(_0x4c4b01(0xb9),attributesDB[_0x4c4b01(0xc1)]),updateVisibleAttributes(),updatePreview();}function syncSlotFromMaterial(){const _0x79f9c3=a0_0x175af0,_0x3008da=document[_0x79f9c3(0x142)](_0x79f9c3(0x136)),_0xb0577c=document[_0x79f9c3(0x142)](_0x79f9c3(0xb4));if(!_0x3008da||!_0xb0577c)return;const _0x3376ae=(_0x3008da[_0x79f9c3(0xb0)]||'')[_0x79f9c3(0x138)]()[_0x79f9c3(0x10f)]();if(!_0x3376ae)return;let _0x41d3ac='';if(_0x3376ae[_0x79f9c3(0x128)](_0x79f9c3(0x111))||_0x3376ae===_0x79f9c3(0x119))_0x41d3ac='头盔';else{if(_0x3376ae[_0x79f9c3(0x128)](_0x79f9c3(0x145))||_0x3376ae===_0x79f9c3(0xaf))_0x41d3ac='衣服';else{if(_0x3376ae[_0x79f9c3(0x128)]('_LEGGINGS')||_0x3376ae===_0x79f9c3(0xd9))_0x41d3ac='裤子';else{if(_0x3376ae[_0x79f9c3(0x128)](_0x79f9c3(0x15e))||_0x3376ae===_0x79f9c3(0x9e))_0x41d3ac='鞋子';}}}_0x41d3ac&&_0xb0577c[_0x79f9c3(0xb0)]!==_0x41d3ac&&(_0xb0577c[_0x79f9c3(0xb0)]=_0x41d3ac,updateVisibleAttributes());}function updateVisibleAttributes(){const _0x3af2e3=a0_0x175af0,_0xd3634b=document[_0x3af2e3(0x142)](_0x3af2e3(0xb4))[_0x3af2e3(0xb0)];let _0xc014ed=_0x3af2e3(0x9b);['头盔','衣服','裤子','鞋子'][_0x3af2e3(0x174)](_0xd3634b)&&(_0xc014ed='armor');const _0x20f81d=document[_0x3af2e3(0x1c2)](_0x3af2e3(0x10e));_0x20f81d['forEach'](_0x411171=>{const _0x426541=_0x3af2e3;let _0x15983a=[];try{_0x15983a=JSON[_0x426541(0xb3)](_0x411171[_0x426541(0xe9)]['allowed']||'[]');}catch(_0x4d188e){console[_0x426541(0xf4)](_0x426541(0x198),_0x4d188e);}const _0x281031=_0x411171[_0x426541(0xf6)](_0x426541(0xd1)),_0x3f14a4=_0x15983a[_0x426541(0x174)](_0x426541(0x127))||_0x15983a[_0x426541(0x174)](_0xc014ed);if(_0x3f14a4)_0x281031[_0x426541(0x179)][_0x426541(0xf5)]=_0x426541(0x140);else{_0x281031['style'][_0x426541(0xf5)]='none',_0x411171[_0x426541(0xb0)]='';const _0x210f94=document['getElementById'](_0x426541(0xc0)+_0x411171['id']);_0x210f94&&(_0x210f94[_0x426541(0xdb)]='',_0x210f94[_0x426541(0x179)]['opacity']='0');}}),updatePreview();}function calculatePrice(){const _0x893132=a0_0x175af0;enforceAllAttrMax();const _0x42fa6b=document[_0x893132(0x142)]('itemSlot')['value'],_0x3877a8=Array[_0x893132(0x120)](document['querySelectorAll'](_0x893132(0x10e))),_0x98cbcf=_0x5c5cf5=>['头盔','衣服','裤子','鞋子'][_0x893132(0x174)](_0x5c5cf5)?_0x893132(0xe1):_0x893132(0x9b),_0x4961e2=_0x55043e=>_0x55043e==='副手'?0x2:0x1,_0x5a66ae=_0x378854=>{try{return JSON['parse'](_0x378854||'[]');}catch(_0x35574e){return[];}},_0x32dd47=(_0x38b6fa,_0x4fee26)=>{const _0x1a3a22=_0x893132,_0x435203=_0x98cbcf(_0x4fee26),_0x44a5db=_0x5a66ae(_0x38b6fa['dataset']['allowed']);return _0x44a5db[_0x1a3a22(0x174)]('all')||_0x44a5db[_0x1a3a22(0x174)](_0x435203);},_0xdde659=_0x550e8d=>{const _0xe7b460=_0x893132,_0x5bacd8=parseFloat(_0x550e8d['dataset'][_0xe7b460(0xf3)]),_0x2b6083=_0x550e8d[_0xe7b460(0xe9)]['isPercent']==='true',_0x9c1b93=_0x2b6083?DEFAULT_CURVE_REF_PERCENT:DEFAULT_CURVE_REF_FLAT;return Number[_0xe7b460(0x197)](_0x5bacd8)&&_0x5bacd8>0x0?_0x5bacd8:_0x9c1b93;},_0x34dfb7=(_0x1831f1,_0x24057f,_0x465bb9)=>{const _0x5ce5a4=_0x893132,_0x242a3e=RANGE_PRICE_ATTR_IDS[_0x5ce5a4(0xde)](_0x1831f1['id']),_0x393f62=parseAttrInputValue(_0x24057f,{'allowRange':_0x242a3e}),_0x200bac=_0x393f62['ok']?Number(_0x393f62[_0x5ce5a4(0x19d)]):0x0;if(!(Number[_0x5ce5a4(0x197)](_0x200bac)&&_0x200bac>0x0))return 0x0;const _0x723bbc=parseFloat(_0x1831f1['dataset'][_0x5ce5a4(0x97)]),_0x157078=_0xdde659(_0x1831f1);if(!(Number[_0x5ce5a4(0x197)](_0x723bbc)&&_0x723bbc>0x0))return 0x0;if(!(Number[_0x5ce5a4(0x197)](_0x157078)&&_0x157078>0x0))return 0x0;let _0x58b12b=0x0;return _0x393f62['ok']&&_0x393f62[_0x5ce5a4(0x112)]===_0x5ce5a4(0x192)?_0x58b12b=progressiveAttrExpectedCostUniform(_0x393f62[_0x5ce5a4(0xb2)],_0x393f62[_0x5ce5a4(0x1c0)],_0x723bbc,_0x157078):_0x58b12b=progressiveAttrCost(_0x200bac,_0x723bbc,_0x157078),_0x58b12b=_0x58b12b*_0x4961e2(_0x465bb9),Number[_0x5ce5a4(0x197)](_0x58b12b)&&_0x58b12b>0x0?_0x58b12b:0x0;},_0x3d11c2=(_0xdc2946,_0x2118e4)=>{const _0x146661=_0x893132,_0x2e5501=[];for(const _0x34c7ae of _0x3877a8){if(!_0x32dd47(_0x34c7ae,_0x2118e4))continue;const _0x159d27=_0xdc2946?_0xdc2946[_0x34c7ae['id']]:_0x34c7ae[_0x146661(0xb0)],_0x255f77=_0x34dfb7(_0x34c7ae,_0x159d27==null?'':String(_0x159d27),_0x2118e4);if(_0x255f77>0x0)_0x2e5501['push']({'id':_0x34c7ae['id'],'base':_0x255f77});}_0x2e5501['sort']((_0x312587,_0x539c09)=>_0x539c09[_0x146661(0x104)]-_0x312587['base']||(_0x312587['id']<_0x539c09['id']?-0x1:0x1));const _0x5f06f5={};let _0x59888a=0x0;for(let _0x5a7f88=0x0;_0x5a7f88<_0x2e5501[_0x146661(0xb6)];_0x5a7f88++){const _0x3e0c4e=Math['min'](0x1+COMBO_TIER_STEP*_0x5a7f88,COMBO_MULTIPLIER_CAP),_0x1e5b6d=_0x2e5501[_0x5a7f88]['base']*_0x3e0c4e;_0x5f06f5[_0x2e5501[_0x5a7f88]['id']]=_0x1e5b6d,_0x59888a+=_0x1e5b6d;}return{'costsById':_0x5f06f5,'totalRaw':_0x59888a};},_0x35d6c9=_0x3d11c2(null,_0x42fa6b),_0xd359c4=upgradeMode&&upgradeOriginalAttrs&&typeof upgradeOriginalAttrs==='object';let _0x284bf1=_0x35d6c9['totalRaw'],_0x284275={..._0x35d6c9['costsById']};if(_0xd359c4){const _0x2de800=upgradeOriginalSlot||_0x42fa6b,_0x522570=_0x3d11c2(upgradeOriginalAttrs,_0x2de800);_0x284bf1=Math[_0x893132(0x1c0)](_0x35d6c9[_0x893132(0x1a7)]-_0x522570[_0x893132(0x1a7)],0x0);const _0x28c378=new Set([...Object[_0x893132(0x1a8)](_0x35d6c9[_0x893132(0xba)]),...Object[_0x893132(0x1a8)](_0x522570[_0x893132(0xba)])]),_0x254f97={};for(const _0x1b8eed of _0x28c378){const _0x45105c=(_0x35d6c9[_0x893132(0xba)][_0x1b8eed]||0x0)-(_0x522570[_0x893132(0xba)][_0x1b8eed]||0x0);_0x254f97[_0x1b8eed]=Math[_0x893132(0x1c0)](_0x45105c,0x0);}_0x284275=_0x254f97;}const _0x3ef9a8=_0xd359c4?Math[_0x893132(0xc8)](_0x284bf1):Math[_0x893132(0xc8)](Math[_0x893132(0x1c0)](_0x284bf1,0x32)),_0x2c29b5=_0x3877a8['map'](_0x2e1b46=>_0x2e1b46['id']),_0x3c21ac=_0x2c29b5[_0x893132(0x157)](_0x2fb40f=>_0x284275[_0x2fb40f]||0x0),_0x5b674d=Math[_0x893132(0x1c0)](Math[_0x893132(0xc8)](_0x284bf1),0x0),_0x47029b=allocateRoundedIntCosts(_0x3c21ac,_0x5b674d);for(let _0x31557f=0x0;_0x31557f<_0x3877a8['length'];_0x31557f++){const _0x2815a4=_0x3877a8[_0x31557f],_0x131843=document[_0x893132(0x142)](_0x893132(0xc0)+_0x2815a4['id']);if(!_0x131843)continue;const _0x2ec4b2=_0x47029b[_0x31557f]||0x0;_0x2ec4b2>0x0?(_0x131843[_0x893132(0xdb)]='+'+_0x2ec4b2,_0x131843[_0x893132(0x179)][_0x893132(0x107)]='1'):(_0x131843[_0x893132(0xdb)]='',_0x131843[_0x893132(0x179)]['opacity']='0');}const _0xf28395=document['getElementById'](_0x893132(0x1a1));if(_0xf28395){if(!_0xd359c4){const _0xd3d525=Math[_0x893132(0x1c0)](_0x3ef9a8-_0x5b674d,0x0);_0xd3d525>0x0?(_0xf28395[_0x893132(0x179)][_0x893132(0xf5)]=_0x893132(0x153),_0xf28395['innerText']=_0x893132(0xa3)+_0xd3d525):(_0xf28395[_0x893132(0x179)][_0x893132(0xf5)]='none',_0xf28395[_0x893132(0xdb)]='');}else _0xf28395[_0x893132(0x179)]['display']='none',_0xf28395[_0x893132(0xdb)]='';}if(upgradeMode&&!_0xd359c4)return Math[_0x893132(0x1c0)](_0x3ef9a8-originalPrice,0x0);return _0x3ef9a8;}function parseMcColor(_0x1d4e57){const _0x12f953=a0_0x175af0;if(!_0x1d4e57)return'';let _0x193867='',_0x3eb490='',_0x514db1=new Set();const _0x28bc56=_0x1d4e57[_0x12f953(0x14a)]('&');_0x28bc56[0x0]&&(_0x193867+=_0x28bc56[0x0]);for(let _0x51f6f1=0x1;_0x51f6f1<_0x28bc56[_0x12f953(0xb6)];_0x51f6f1++){const _0x37c572=_0x28bc56[_0x51f6f1];if(_0x37c572[_0x12f953(0xb6)]===0x0)continue;const _0x2b564c=_0x37c572['charAt'](0x0)['toLowerCase'](),_0x19557a=_0x37c572['substring'](0x1);if(_0x12f953(0x108)[_0x12f953(0x174)](_0x2b564c))_0x3eb490=_0x12f953(0xd8)+_0x2b564c,_0x514db1[_0x12f953(0xf9)]();else{if(_0x12f953(0x1a0)[_0x12f953(0x174)](_0x2b564c))_0x514db1[_0x12f953(0x132)]('mc-'+_0x2b564c);else _0x2b564c==='r'&&(_0x3eb490='',_0x514db1[_0x12f953(0xf9)]());}if(_0x19557a[_0x12f953(0xb6)]>0x0){let _0x13467f=[];if(_0x3eb490)_0x13467f[_0x12f953(0x158)](_0x3eb490);_0x514db1['forEach'](_0xe4a9da=>_0x13467f['push'](_0xe4a9da)),_0x13467f[_0x12f953(0xb6)]>0x0?_0x193867+='<span\x20class=\x22'+_0x13467f[_0x12f953(0x106)]('\x20')+'\x22>'+_0x19557a+_0x12f953(0xcc):_0x193867+=_0x19557a;}}return _0x193867;}function updatePreview(){const _0x5e14b0=a0_0x175af0,_0x42fb99=calculatePrice();document[_0x5e14b0(0x142)](_0x5e14b0(0xae))[_0x5e14b0(0xdb)]=_0x42fb99,requestAnimationFrame(adjustTotalPriceFontSize);const _0x41032b=document['getElementById'](_0x5e14b0(0xfa));_0x41032b&&(_0x41032b['innerText']=upgradeMode?'升级补差价':_0x5e14b0(0x14e));const _0x18a1db=document['getElementById']('itemName')[_0x5e14b0(0xb0)]||_0x5e14b0(0x18f),_0x44014e=document[_0x5e14b0(0x142)](_0x5e14b0(0xb4))['value'],_0x25954e=document[_0x5e14b0(0x142)]('itemLore')['value'],_0x4a2ed9=document[_0x5e14b0(0x142)](_0x5e14b0(0xf2))[_0x5e14b0(0xb0)]||_0x5e14b0(0x101);let _0x4c2faf='';_0x4c2faf+=parseMcColor(_0x18a1db+_0x5e14b0(0xad))+_0x5e14b0(0x8e),_0x4c2faf+=parseMcColor(_0x5e14b0(0xea))+_0x5e14b0(0x91),_0x4c2faf+=parseMcColor(_0x5e14b0(0xb8))+_0x5e14b0(0x91),_0x4c2faf+=parseMcColor('&e最上级<100%>&0............&e定制')+'<br>',_0x4c2faf+=parseMcColor('&d可升级')+_0x5e14b0(0x91),_0x4c2faf+=parseMcColor(_0x5e14b0(0x1b9)+_0x44014e)+_0x5e14b0(0x91),_0x4c2faf+=parseMcColor('&0.')+_0x5e14b0(0x91);let _0x4ad091=![];const _0x122583=Array[_0x5e14b0(0x120)](document[_0x5e14b0(0x1c2)]('#attributes-container\x20input')),_0x564787=_0x122583['find'](_0x29d24c=>_0x29d24c['id']==='ap_attack');if(_0x564787){const _0x5d9af7=parseAttrInputValue(_0x564787[_0x5e14b0(0xb0)],{'allowRange':!![]});_0x5d9af7['ok']&&_0x5d9af7[_0x5e14b0(0x19d)]>0x0&&(_0x4c2faf+=parseMcColor(_0x5e14b0(0x189)+(_0x564787[_0x5e14b0(0xb0)]||'')[_0x5e14b0(0x138)]())+'<br>');}_0x4c2faf+=parseMcColor('&7&l&m----------&r&6&l武器属性&7&l&m---------')+_0x5e14b0(0x91),_0x122583[_0x5e14b0(0x16d)](_0x581bcf=>{const _0x56b16a=_0x5e14b0,_0x3f6db=RANGE_PRICE_ATTR_IDS[_0x56b16a(0xde)](_0x581bcf['id']),_0x4a6bc2=parseAttrInputValue(_0x581bcf['value'],{'allowRange':_0x3f6db});if(_0x4a6bc2['ok']&&_0x4a6bc2[_0x56b16a(0x19d)]>0x0&&_0x581bcf['id']!=='ap_attack'){const _0x5ac3de=_0x581bcf['dataset'][_0x56b16a(0x15a)],_0x139331=_0x581bcf['dataset'][_0x56b16a(0x195)],_0x3b4baf=_0x581bcf[_0x56b16a(0xe9)][_0x56b16a(0xc7)]===_0x56b16a(0x152),_0x588246=_0x3b4baf?'%':'',_0x39246a=_0x3f6db?(_0x581bcf[_0x56b16a(0xb0)]||'')[_0x56b16a(0x138)]():_0x4a6bc2[_0x56b16a(0xf5)];_0x4c2faf+=parseMcColor(_0x139331+'&l'+_0x5ac3de+_0x56b16a(0x1ad)+_0x39246a+_0x588246)+_0x56b16a(0x91),_0x4ad091=!![];}});!_0x4ad091&&(!_0x564787||_0x564787['value']<=0x0)&&(_0x4c2faf+=parseMcColor(_0x5e14b0(0x10c))+_0x5e14b0(0x91));_0x4c2faf+=parseMcColor(_0x5e14b0(0x9c))+_0x5e14b0(0x91),_0x4c2faf+=parseMcColor('&0.')+_0x5e14b0(0x91);const _0x2a8e42=_0x25954e['split']('\x0a');_0x2a8e42[_0x5e14b0(0x16d)](_0x32ad27=>{const _0x380864=_0x5e14b0;if(_0x32ad27[_0x380864(0x138)]())_0x4c2faf+=parseMcColor(_0x380864(0x15d)+_0x32ad27)+_0x380864(0x91);}),_0x4c2faf+=parseMcColor('&0.')+_0x5e14b0(0x91),document[_0x5e14b0(0x142)](_0x5e14b0(0xa9))[_0x5e14b0(0x11a)]=_0x4c2faf,validateRequiredFields(![]);}function copyConfig(){const _0x331b80=a0_0x175af0;if(!validateRequiredFields(!![]))return;const _0x39fee7=document['getElementById'](_0x331b80(0xf2))[_0x331b80(0xb0)][_0x331b80(0x138)](),_0x5758bc=document[_0x331b80(0x142)](_0x331b80(0x136))[_0x331b80(0xb0)][_0x331b80(0x138)](),_0x4e4cac=document['getElementById'](_0x331b80(0x15b))['value'],_0x19ccf8=document[_0x331b80(0x142)](_0x331b80(0xb4))[_0x331b80(0xb0)],_0x13a767=document[_0x331b80(0x142)]('itemLore')[_0x331b80(0xb0)],_0x311fb6=document['getElementById'](_0x331b80(0xae))[_0x331b80(0xdb)];let _0x104c0f=[];_0x104c0f[_0x331b80(0x158)](''),_0x104c0f[_0x331b80(0x158)]('&7&l&m----------&r&6&l武器描述&7&l&m---------'),_0x104c0f[_0x331b80(0x158)](_0x331b80(0xb8)),_0x104c0f[_0x331b80(0x158)]('&e最上级<100%>&0............&e定制'),_0x104c0f[_0x331b80(0x158)](_0x331b80(0xc5)),_0x104c0f[_0x331b80(0x158)](_0x331b80(0x1b9)+_0x19ccf8),_0x104c0f[_0x331b80(0x158)](_0x331b80(0xb8));const _0x461dfc=Array[_0x331b80(0x120)](document[_0x331b80(0x1c2)](_0x331b80(0x10e))),_0x164bd7={};_0x461dfc[_0x331b80(0x16d)](_0xbf64a3=>{const _0x338b73=_0x331b80,_0x2c5275=RANGE_PRICE_ATTR_IDS['has'](_0xbf64a3['id']),_0x3ce8e0=parseAttrInputValue(_0xbf64a3[_0x338b73(0xb0)],{'allowRange':_0x2c5275}),_0xc9c118=_0xbf64a3['closest'](_0x338b73(0xd1));_0xc9c118&&_0xc9c118[_0x338b73(0x179)][_0x338b73(0xf5)]!=='none'&&_0x3ce8e0['ok']&&_0x3ce8e0[_0x338b73(0x19d)]>0x0&&(_0x164bd7[_0xbf64a3['id']]=_0x2c5275?(_0xbf64a3[_0x338b73(0xb0)]||'')[_0x338b73(0x138)]():_0x3ce8e0[_0x338b73(0x19d)]);});_0x164bd7[_0x331b80(0x1bc)]&&_0x104c0f[_0x331b80(0x158)](_0x331b80(0x189)+_0x164bd7[_0x331b80(0x1bc)]);_0x104c0f[_0x331b80(0x158)](_0x331b80(0x1b6)),_0x461dfc['forEach'](_0x4cc541=>{const _0x393a75=_0x331b80;if(_0x164bd7[_0x4cc541['id']]&&_0x4cc541['id']!==_0x393a75(0x1bc)){const _0x4d3906=_0x4cc541[_0x393a75(0xe9)][_0x393a75(0x15a)],_0x38c09d=_0x4cc541[_0x393a75(0xe9)][_0x393a75(0x195)],_0x4b07d6=_0x4cc541[_0x393a75(0xe9)]['isPercent']===_0x393a75(0x152),_0x1447f8=_0x4b07d6?'%':'';_0x104c0f['push'](_0x38c09d+'&l'+_0x4d3906+_0x393a75(0x1ad)+_0x164bd7[_0x4cc541['id']]+_0x1447f8);}}),_0x104c0f['push']('&7&l&m----------&r&6&l背景故事&7&l&m---------'),_0x104c0f[_0x331b80(0x158)](_0x331b80(0xb8)),_0x13a767[_0x331b80(0x14a)]('\x0a')[_0x331b80(0x16d)](_0x57f495=>{const _0x104710=_0x331b80;if(_0x57f495[_0x104710(0x138)]())_0x104c0f[_0x104710(0x158)](_0x104710(0x15d)+_0x57f495);}),_0x104c0f[_0x331b80(0x158)]('&0.');const _0x4456a1=upgradeMode,_0x4759d1=originalPrice;upgradeMode=![];const _0x459624=calculatePrice();upgradeMode=_0x4456a1,originalPrice=_0x4759d1;const _0x1c6d45=upgradeMode?calculatePrice():_0x459624,_0x31e1f6={'m':upgradeMode?_0x331b80(0xcf):_0x331b80(0x14f),'p':String(_0x1c6d45),'fp':_0x459624,'op':upgradeMode?originalPrice:undefined,'s':_0x19ccf8,'a':_0x164bd7,'oa':upgradeMode?upgradeOriginalAttrs||{}:undefined,'t':Date[_0x331b80(0x1bb)](),'salt':SECRET_SALT},_0x79fa06=btoa(unescape(encodeURIComponent(JSON[_0x331b80(0x98)](_0x31e1f6))));let _0x2a8ab8=upgradeMode?_0x331b80(0x16c)+_0x1c6d45+_0x331b80(0xf0)+originalPrice+')\x0a':_0x331b80(0x9a)+_0x1c6d45+_0x331b80(0x10d),_0x813778=_0x2a8ab8;_0x813778+=_0x331b80(0x12e)+_0x79fa06+'\x0a',_0x813778+=_0x39fee7+_0x331b80(0x170),_0x813778+=_0x331b80(0x19b)+_0x5758bc+'\x0a',_0x813778+=_0x331b80(0x183),_0x813778+=_0x331b80(0xd5)+_0x4e4cac+_0x331b80(0xa2),_0x813778+=_0x331b80(0x161),_0x104c0f[_0x331b80(0x16d)](_0x42c456=>{const _0x4258fe=_0x331b80;_0x813778+=_0x4258fe(0x16a)+_0x42c456+'\x27\x0a';}),_0x813778+=_0x331b80(0x13d),_0x813778+=_0x331b80(0xed),_0x813778+='\x20\x20\x20\x20HideFlags:\x20true\x0a',navigator[_0x331b80(0x191)][_0x331b80(0x150)](_0x813778)[_0x331b80(0x12d)](()=>{const _0x324b8f=_0x331b80,_0x420e8e=document[_0x324b8f(0x142)](_0x324b8f(0x1ab)),_0xc6c49b=_0x420e8e[_0x324b8f(0xdb)];_0x420e8e['innerText']=_0x324b8f(0xa1),_0x420e8e['style'][_0x324b8f(0x147)]=_0x324b8f(0x17a),setTimeout(()=>{const _0x39c383=_0x324b8f;_0x420e8e['innerText']=_0xc6c49b,_0x420e8e['style'][_0x39c383(0x147)]='';},0x7d0);});}function verifyConfig(){const _0x38174f=a0_0x175af0,_0x5ba380=document[_0x38174f(0x142)](_0x38174f(0x1ac))[_0x38174f(0xb0)],_0x31f013=document[_0x38174f(0x142)](_0x38174f(0xe8));if(!_0x5ba380){_0x31f013[_0x38174f(0xdb)]='请先粘贴\x20YAML\x20配置代码！',_0x31f013[_0x38174f(0x179)][_0x38174f(0x12c)]=_0x38174f(0x18a);return;}try{const _0xc85b12=decodeAndValidateSignData(_0x5ba380);document['getElementById'](_0x38174f(0xb4))[_0x38174f(0xb0)]=_0xc85b12['s'],updateVisibleAttributes(),document[_0x38174f(0x1c2)](_0x38174f(0x10e))['forEach'](_0xe8efa6=>_0xe8efa6[_0x38174f(0xb0)]='');if(_0xc85b12['a'])for(const [_0x12a1e0,_0x59c26d]of Object[_0x38174f(0xbf)](_0xc85b12['a'])){const _0x347043=document[_0x38174f(0x142)](_0x12a1e0);_0x347043&&(_0x347043['value']=_0x59c26d);}const _0x268bc4=upgradeMode,_0xc08535=originalPrice;upgradeMode=![];const _0x197a06=calculatePrice();upgradeMode=_0x268bc4,originalPrice=_0xc08535;const _0xa3624b=Number(_0xc85b12['p']),_0xd52410=_0xc85b12['m'];if(_0xd52410==='upgrade'){const _0x5506f5=Number(_0xc85b12['op']);let _0x1cf2fb=Math[_0x38174f(0x1c0)](_0x197a06-_0x5506f5,0x0);if(_0xc85b12['oa']&&typeof _0xc85b12['oa']===_0x38174f(0x9d)){const _0x1f0022=upgradeMode,_0x1b0ecc=originalPrice,_0x44b7c0=upgradeOriginalAttrs;upgradeMode=!![],originalPrice=0x0,upgradeOriginalAttrs=_0xc85b12['oa'],_0x1cf2fb=calculatePrice(),upgradeMode=_0x1f0022,originalPrice=_0x1b0ecc,upgradeOriginalAttrs=_0x44b7c0;}_0x1cf2fb==_0xa3624b?_0x31f013[_0x38174f(0x11a)]=_0x38174f(0xbb)+_0x5506f5+'\x20|\x20当前总价:\x20'+_0x197a06+'\x20|\x20应补:\x20'+_0x1cf2fb:_0x31f013[_0x38174f(0x11a)]='<span\x20style=\x27color:\x20#fbbf24;\x27><svg\x20xmlns=\x22http://www.w3.org/2000/svg\x22\x20width=\x2216\x22\x20height=\x2216\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22\x20style=\x22vertical-align:\x20text-bottom;\x20margin-right:\x204px;\x22><path\x20d=\x22M10.29\x203.86L1.82\x2018a2\x202\x200\x200\x200\x201.71\x203h16.94a2\x202\x200\x200\x200\x201.71-3L13.71\x203.86a2\x202\x200\x200\x200-3.42\x200z\x22></path><line\x20x1=\x2212\x22\x20y1=\x229\x22\x20x2=\x2212\x22\x20y2=\x2213\x22></line><line\x20x1=\x2212\x22\x20y1=\x2217\x22\x20x2=\x2212.01\x22\x20y2=\x2217\x22></line></svg>\x20警告：补价不匹配！(升级订单)</span><br>签名补价:\x20'+_0xa3624b+'\x20|\x20计算应补:\x20'+_0x1cf2fb+_0x38174f(0xa6)+_0x5506f5+_0x38174f(0x1b3)+_0x197a06;updatePreview();return;}_0x197a06==_0xa3624b?(_0x31f013[_0x38174f(0x11a)]=_0x38174f(0xc4)+_0xa3624b+_0x38174f(0x18c)+_0x197a06+_0x38174f(0xd7),updatePreview()):(_0x31f013[_0x38174f(0x11a)]=_0x38174f(0xaa)+_0xa3624b+_0x38174f(0x18c)+_0x197a06+'<br>可能原因：玩家修改了属性、P图改了价格，或者您的计费规则已更新。',updatePreview());}catch(_0x4687ee){console[_0x38174f(0xf4)](_0x4687ee);if(_0x4687ee&&_0x4687ee['code']===_0x38174f(0x159))_0x31f013[_0x38174f(0x11a)]=_0x38174f(0x13c);else _0x4687ee&&_0x4687ee[_0x38174f(0xd0)]===_0x38174f(0x194)?_0x31f013[_0x38174f(0x11a)]='<span\x20style=\x27color:\x20#ef4444;\x27><svg\x20xmlns=\x27http://www.w3.org/2000/svg\x27\x20width=\x2716\x27\x20height=\x2716\x27\x20viewBox=\x270\x200\x2024\x2024\x27\x20fill=\x27none\x27\x20stroke=\x27currentColor\x27\x20stroke-width=\x273\x27\x20stroke-linecap=\x27round\x27\x20stroke-linejoin=\x27round\x27\x20style=\x27vertical-align:\x20text-bottom;\x20margin-right:\x204px;\x27><line\x20x1=\x2718\x27\x20y1=\x276\x27\x20x2=\x276\x27\x20y2=\x2718\x27></line><line\x20x1=\x276\x27\x20y1=\x276\x27\x20x2=\x2718\x27\x20y2=\x2718\x27></line></svg>\x20错误：签名不匹配（可能是伪造/旧版本/被篡改）。</span>':_0x31f013[_0x38174f(0x11a)]=_0x38174f(0x19c);}}init();</script></body></html>